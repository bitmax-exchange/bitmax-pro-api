
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;,&quot;python&quot;,&quot;java&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
              <a href="#" data-language-name="python">python</a>
              <a href="#" data-language-name="java">java</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#bitmax-pro-api-documentation" class="toc-h1 toc-link" data-title="BitMax Pro API Documentation">BitMax Pro API Documentation</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#what-39-s-new" class="toc-h2 toc-link" data-title="What's New">What's New</a>
                  </li>
                  <li>
                    <a href="#demo-codes" class="toc-h2 toc-link" data-title="Demo codes">Demo codes</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#rest-apis" class="toc-h1 toc-link" data-title="REST APIs">REST APIs</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#authenticate-a-restful-request" class="toc-h2 toc-link" data-title="Authenticate a RESTful Request">Authenticate a RESTful Request</a>
                    <ul class="toc-list-h3">
                        <li>
                          <a href="#create-request" class="toc-h3 toc-link" data-title="Create Request">Create Request</a>
                        </li>
                        <li>
                          <a href="#sign-request" class="toc-h3 toc-link" data-title="Sign Request">Sign Request</a>
                        </li>
                    </ul>
                  </li>
                  <li>
                    <a href="#market-data-public" class="toc-h2 toc-link" data-title="Market Data (Public)">Market Data (Public)</a>
                    <ul class="toc-list-h3">
                        <li>
                          <a href="#list-all-assets" class="toc-h3 toc-link" data-title="List all Assets">List all Assets</a>
                        </li>
                        <li>
                          <a href="#list-all-products" class="toc-h3 toc-link" data-title="List all Products">List all Products</a>
                        </li>
                        <li>
                          <a href="#ticker" class="toc-h3 toc-link" data-title="Ticker">Ticker</a>
                        </li>
                        <li>
                          <a href="#bar-info" class="toc-h3 toc-link" data-title="Bar Info">Bar Info</a>
                        </li>
                        <li>
                          <a href="#historical-bar-data" class="toc-h3 toc-link" data-title="Historical Bar Data">Historical Bar Data</a>
                        </li>
                        <li>
                          <a href="#order-book-depth" class="toc-h3 toc-link" data-title="Order Book (Depth)">Order Book (Depth)</a>
                        </li>
                        <li>
                          <a href="#market-trades" class="toc-h3 toc-link" data-title="Market Trades">Market Trades</a>
                        </li>
                    </ul>
                  </li>
                  <li>
                    <a href="#account" class="toc-h2 toc-link" data-title="Account">Account</a>
                    <ul class="toc-list-h3">
                        <li>
                          <a href="#account-info" class="toc-h3 toc-link" data-title="Account Info">Account Info</a>
                        </li>
                        <li>
                          <a href="#fee-schedule" class="toc-h3 toc-link" data-title="Fee Schedule">Fee Schedule</a>
                        </li>
                    </ul>
                  </li>
                  <li>
                    <a href="#balance" class="toc-h2 toc-link" data-title="Balance">Balance</a>
                    <ul class="toc-list-h3">
                        <li>
                          <a href="#cash-account-balance" class="toc-h3 toc-link" data-title="Cash Account Balance">Cash Account Balance</a>
                        </li>
                        <li>
                          <a href="#margin-account-balance" class="toc-h3 toc-link" data-title="Margin Account Balance">Margin Account Balance</a>
                        </li>
                        <li>
                          <a href="#margin-risk-profile" class="toc-h3 toc-link" data-title="Margin Risk Profile">Margin Risk Profile</a>
                        </li>
                    </ul>
                  </li>
                  <li>
                    <a href="#order" class="toc-h2 toc-link" data-title="Order">Order</a>
                    <ul class="toc-list-h3">
                        <li>
                          <a href="#generate-order-id" class="toc-h3 toc-link" data-title="Generate Order Id">Generate Order Id</a>
                        </li>
                        <li>
                          <a href="#place-order" class="toc-h3 toc-link" data-title="Place Order">Place Order</a>
                        </li>
                        <li>
                          <a href="#cancel-order" class="toc-h3 toc-link" data-title="Cancel Order">Cancel Order</a>
                        </li>
                        <li>
                          <a href="#cancel-all-orders" class="toc-h3 toc-link" data-title="Cancel All Orders">Cancel All Orders</a>
                        </li>
                        <li>
                          <a href="#place-batch-orders" class="toc-h3 toc-link" data-title="Place Batch Orders">Place Batch Orders</a>
                        </li>
                        <li>
                          <a href="#cancel-batch-orders" class="toc-h3 toc-link" data-title="Cancel Batch Orders">Cancel Batch Orders</a>
                        </li>
                        <li>
                          <a href="#query-order" class="toc-h3 toc-link" data-title="Query Order">Query Order</a>
                        </li>
                        <li>
                          <a href="#list-open-orders" class="toc-h3 toc-link" data-title="List Open Orders">List Open Orders</a>
                        </li>
                        <li>
                          <a href="#list-current-history-orders" class="toc-h3 toc-link" data-title="List Current History Orders">List Current History Orders</a>
                        </li>
                    </ul>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#websocket" class="toc-h1 toc-link" data-title="WebSocket">WebSocket</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#keep-the-connection-alive-via-ping-pong" class="toc-h2 toc-link" data-title="Keep the Connection Alive via Ping/Pong">Keep the Connection Alive via Ping/Pong</a>
                  </li>
                  <li>
                    <a href="#websocket-authentication" class="toc-h2 toc-link" data-title="WebSocket Authentication">WebSocket Authentication</a>
                    <ul class="toc-list-h3">
                        <li>
                          <a href="#method-1-websocket-authentication-with-request-headers" class="toc-h3 toc-link" data-title="Method 1 - WebSocket Authentication with Request Headers">Method 1 - WebSocket Authentication with Request Headers</a>
                        </li>
                        <li>
                          <a href="#method-2-websocket-authentication-by-sending-the-auth-message" class="toc-h3 toc-link" data-title="Method 2 - WebSocket Authentication by Sending the Auth Message">Method 2 - WebSocket Authentication by Sending the Auth Message</a>
                        </li>
                        <li>
                          <a href="#authentication-response" class="toc-h3 toc-link" data-title="Authentication Response">Authentication Response</a>
                        </li>
                    </ul>
                  </li>
                  <li>
                    <a href="#subscribe-to-data-channels" class="toc-h2 toc-link" data-title="Subscribe to Data Channels">Subscribe to Data Channels</a>
                    <ul class="toc-list-h3">
                        <li>
                          <a href="#how-to-subscribe" class="toc-h3 toc-link" data-title="How to Subscribe">How to Subscribe</a>
                        </li>
                        <li>
                          <a href="#channel-level-1-order-book-data-bbo" class="toc-h3 toc-link" data-title="Channel: Level 1 Order Book Data (BBO)">Channel: Level 1 Order Book Data (BBO)</a>
                        </li>
                        <li>
                          <a href="#channel-level-2-order-book-updates" class="toc-h3 toc-link" data-title="Channel: Level 2 Order Book Updates">Channel: Level 2 Order Book Updates</a>
                        </li>
                        <li>
                          <a href="#channel-market-trades" class="toc-h3 toc-link" data-title="Channel: Market Trades">Channel: Market Trades</a>
                        </li>
                        <li>
                          <a href="#channel-bar-data" class="toc-h3 toc-link" data-title="Channel: Bar Data">Channel: Bar Data</a>
                        </li>
                        <li>
                          <a href="#channel-order" class="toc-h3 toc-link" data-title="Channel: Order">Channel: Order</a>
                        </li>
                    </ul>
                  </li>
                  <li>
                    <a href="#data-query-order-request" class="toc-h2 toc-link" data-title="Data Query / Order Request">Data Query / Order Request</a>
                    <ul class="toc-list-h3">
                        <li>
                          <a href="#websocket-request-schema" class="toc-h3 toc-link" data-title="WebSocket Request Schema">WebSocket Request Schema</a>
                        </li>
                        <li>
                          <a href="#websocket-response-schema" class="toc-h3 toc-link" data-title="WebSocket Response Schema">WebSocket Response Schema</a>
                        </li>
                        <li>
                          <a href="#ws-orderbook-snapshot" class="toc-h3 toc-link" data-title="WS: Orderbook Snapshot">WS: Orderbook Snapshot</a>
                        </li>
                        <li>
                          <a href="#ws-place-order" class="toc-h3 toc-link" data-title="WS: Place Order">WS: Place Order</a>
                        </li>
                        <li>
                          <a href="#ws-cancel-order" class="toc-h3 toc-link" data-title="WS: Cancel Order">WS: Cancel Order</a>
                        </li>
                        <li>
                          <a href="#ws-cancel-all-orders" class="toc-h3 toc-link" data-title="WS: Cancel All Orders">WS: Cancel All Orders</a>
                        </li>
                        <li>
                          <a href="#ws-query-open-orders-on-symbol" class="toc-h3 toc-link" data-title="WS: Query Open Orders on Symbol">WS: Query Open Orders on Symbol</a>
                        </li>
                        <li>
                          <a href="#ws-recent-market-trades" class="toc-h3 toc-link" data-title="WS: Recent Market Trades">WS: Recent Market Trades</a>
                        </li>
                    </ul>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#error-message" class="toc-h1 toc-link" data-title="Error Message">Error Message</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#error-base-group" class="toc-h2 toc-link" data-title="Error Base Group">Error Base Group</a>
                  </li>
                  <li>
                    <a href="#10xxxx-general-error" class="toc-h2 toc-link" data-title="10XXXX - General Error">10XXXX - General Error</a>
                  </li>
                  <li>
                    <a href="#15xxxx-format-error" class="toc-h2 toc-link" data-title="15XXXX - Format Error">15XXXX - Format Error</a>
                  </li>
                  <li>
                    <a href="#20xxxx-auth-error" class="toc-h2 toc-link" data-title="20XXXX - Auth Error">20XXXX - Auth Error</a>
                  </li>
                  <li>
                    <a href="#30xxxx-order-error" class="toc-h2 toc-link" data-title="30XXXX - Order Error">30XXXX - Order Error</a>
                  </li>
                  <li>
                    <a href="#31xxxx-margin-error" class="toc-h2 toc-link" data-title="31XXXX - Margin Error">31XXXX - Margin Error</a>
                  </li>
                  <li>
                    <a href="#50xxxx-system-error" class="toc-h2 toc-link" data-title="50XXXX - System Error">50XXXX - System Error</a>
                  </li>
                  <li>
                    <a href="#90xxxx-behavior-error" class="toc-h2 toc-link" data-title="90XXXX - Behavior Error">90XXXX - Behavior Error</a>
                  </li>
              </ul>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='https://bitmax.io'>BitMax.io</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='bitmax-pro-api-documentation'>BitMax Pro API Documentation</h1>
<p>BitMax Pro API is the latest release of APIs allowing our users to access the exchange programmatically. It is a major revision 
of the older releases. The BitMax team re-implemented the entire backend system in support for the BitMax Pro API. It is designed
to be fast, flexible, stable, and comprehensive. </p>
<h3 id='what-39-s-new'>What&#39;s New</h3>
<ul>
<li>Dynamic subscription/unsubscription to private and public data channels via WebSocket. </li>
<li>Synchronized/Asynchronized API calls. When placing/cancelling orders, you may use synchronized method 
to get the order result in a single API call. You may also use asynchronized method to achieve minimum latency. </li>
<li>Simplified API schemas. For instance, we simplified the cancel order logic, now you can track the entire order
life cycle with only one indentifier (<code>orderId</code>). </li>
<li>More detailed error message.</li>
</ul>
<h3 id='demo-codes'>Demo codes</h3>
<p>We provide comprehensive demos (currently available in python). We provide two types of demo codes:</p>

<ul>
<li>Short, self contained demo scripts that you can plugin to you larger system. </li>
<li>Large, complex demo scripts to show you how to design a trading strategy using APIs from this document.</li>
</ul>

<p>See <a href="https://github.com/bitmax-exchange/bitmax-pro-api-demo">https://github.com/bitmax-exchange/bitmax-pro-api-demo</a> for more details.</p>
<h1 id='rest-apis'>REST APIs</h1>
<p>We always respond with json include <code>code</code> field to indicate request result. <code>0</code> usually means success response, and you could find data in json format in field <code>data</code>; any code other than <code>0</code> indicate failure during the request process. For failure response, usually you could find detailed error in fields <code>message</code>, <code>reason</code>, and possibly extra <code>info</code>.</p>

<p>For private data, such as <code>open order</code>, <code>balance</code>, we usually include <code>accountId</code>, and <code>accountCategory</code> value in top level of response. </p>
<h2 id='authenticate-a-restful-request'>Authenticate a RESTful Request</h2><h3 id='create-request'>Create Request</h3>
<p>To access private data via RESTful APIs, you must include the following headers:</p>

<ul>
<li><code>x-auth-key</code> - required, the api key as a string. </li>
<li><code>x-auth-timestamp</code> - required, the UTC timestamp in milliseconds of your request</li>
<li><code>x-auth-signature</code> - required, the request signature (see <a href="#signing-a-request">Signing a Request</a>)</li>
</ul>

<p>The timestamp in the header will be checked against server time. If the difference is greater than 30 seconds, the request will 
be rejected. </p>
<h3 id='sign-request'>Sign Request</h3>
<blockquote>
<p>Signing a RESTful Request</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># bash </span>
<span class="nv">APIPATH</span><span class="o">=</span>user/info
<span class="nv">APIKEY</span><span class="o">=</span>CEcrjGyipqt0OflgdQQSRGdrDXdDUY2x
<span class="nv">SECRET</span><span class="o">=</span>hV8FgjyJtpvVeAcMAgzgAFQCN36wmbWuN7o3WPcYcYhFd8qvE43gzFGVsFcCqMNk
<span class="nv">TIMESTAMP</span><span class="o">=</span><span class="sb">`</span>date +%s%N | cut -c -13<span class="sb">`</span> <span class="c"># 1562952827927</span>
<span class="nv">MESSAGE</span><span class="o">=</span><span class="nv">$TIMESTAMP</span>+<span class="nv">$APIPATH</span>
<span class="nv">SIGNATURE</span><span class="o">=</span><span class="sb">`</span><span class="nb">echo</span> -n <span class="nv">$MESSAGE</span> | openssl dgst -sha256 -hmac <span class="nv">$SECRET</span> -binary | base64<span class="sb">`</span>
<span class="nb">echo</span> <span class="nv">$SIGNATURE</span>  <span class="c"># vBZf8OQuiTJIVbNpNHGY3zcUsK5gJpwb5lgCgarpxYI=</span>

curl -X GET -i <span class="se">\</span>
  -H <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"x-auth-key: </span><span class="nv">$APIKEY</span><span class="s2">"</span> <span class="se">\</span>
  -H <span class="s2">"x-auth-signature: </span><span class="nv">$SIGNATURE</span><span class="s2">"</span> <span class="se">\</span>
  -H <span class="s2">"x-auth-timestamp: </span><span class="nv">$TIMESTAMP</span><span class="s2">"</span> <span class="se">\</span>
  https://bitmax.io/api/pro/v1/info
</code></pre><pre class="highlight python tab-python"><code><span class="c"># python 3.6+</span>
<span class="kn">import</span> <span class="nn">time</span><span class="p">,</span> <span class="n">hmac</span><span class="p">,</span> <span class="n">hashlib</span><span class="p">,</span> <span class="n">base64</span>

<span class="n">api_path</span>  <span class="o">=</span> <span class="s">"user/info"</span>
<span class="n">api_key</span>   <span class="o">=</span> <span class="s">"CEcrjGyipqt0OflgdQQSRGdrDXdDUY2x"</span>
<span class="n">sec_key</span>   <span class="o">=</span> <span class="s">"hV8FgjyJtpvVeAcMAgzgAFQCN36wmbWuN7o3WPcYcYhFd8qvE43gzFGVsFcCqMNk"</span>
<span class="n">timestamp</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">*</span> <span class="mf">1e3</span><span class="p">))</span> <span class="c"># 1562952827927</span>

<span class="n">message</span> <span class="o">=</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">f</span><span class="s">"{timestamp}+{api_path}"</span><span class="p">,</span> <span class="s">'utf-8'</span><span class="p">)</span>
<span class="n">secret</span> <span class="o">=</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">sec_key</span><span class="p">,</span> <span class="s">'utf-8'</span><span class="p">)</span>

<span class="n">signature</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">hmac</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">secret</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="n">digestmod</span><span class="o">=</span><span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">)</span><span class="o">.</span><span class="n">digest</span><span class="p">())</span>

<span class="n">header</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"x-auth-key"</span><span class="p">:</span> <span class="n">api_key</span><span class="p">,</span>
  <span class="s">"x-auth-signature"</span><span class="p">:</span> <span class="n">signature</span><span class="p">,</span> 
  <span class="s">"x-auth-timestamp"</span><span class="p">:</span> <span class="n">timestamp</span><span class="p">,</span>
<span class="p">}</span>
<span class="k">print</span><span class="p">(</span><span class="n">signature</span><span class="p">)</span>  <span class="c"># b'vBZf8OQuiTJIVbNpNHGY3zcUsK5gJpwb5lgCgarpxYI='</span>
</code></pre><pre class="highlight java tab-java"><code><span class="c1">// java 1.8+</span>
<span class="kn">import</span> <span class="nn">javax.crypto.Mac</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.crypto.spec.SecretKeySpec</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.apache.commons.codec.binary.Base64</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SignatureExample</span> <span class="o">{</span>

  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">try</span> <span class="o">{</span>
      <span class="kt">long</span> <span class="n">timestamp</span> <span class="o">=</span> <span class="n">System</span><span class="o">.</span><span class="na">currentTimeMillis</span><span class="o">();</span> <span class="c1">// 1562952827927</span>
      <span class="n">String</span> <span class="n">api_path</span> <span class="o">=</span> <span class="s">"user/info"</span><span class="o">;</span>
      <span class="n">String</span> <span class="n">secret</span> <span class="o">=</span> <span class="s">"hV8FgjyJtpvVeAcMAgzgAFQCN36wmbWuN7o3WPcYcYhFd8qvE43gzFGVsFcCqMNk"</span><span class="o">;</span>
      <span class="n">String</span> <span class="n">message</span> <span class="o">=</span> <span class="n">timestamp</span> <span class="o">+</span> <span class="s">"+"</span> <span class="o">+</span> <span class="n">api_path</span><span class="o">;</span>

      <span class="n">Mac</span> <span class="n">sha256_HMAC</span> <span class="o">=</span> <span class="n">Mac</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="s">"HmacSHA256"</span><span class="o">);</span>
      <span class="n">SecretKeySpec</span> <span class="n">secret_key</span> <span class="o">=</span> <span class="k">new</span> <span class="n">SecretKeySpec</span><span class="o">(</span><span class="n">secret</span><span class="o">.</span><span class="na">getBytes</span><span class="o">(),</span> <span class="s">"HmacSHA256"</span><span class="o">);</span>
      <span class="n">sha256_HMAC</span><span class="o">.</span><span class="na">init</span><span class="o">(</span><span class="n">secret_key</span><span class="o">);</span>

      <span class="n">String</span> <span class="n">hash</span> <span class="o">=</span> <span class="n">Base64</span><span class="o">.</span><span class="na">encodeBase64String</span><span class="o">(</span><span class="n">sha256_HMAC</span><span class="o">.</span><span class="na">doFinal</span><span class="o">(</span><span class="n">message</span><span class="o">.</span><span class="na">getBytes</span><span class="o">()));</span>
      <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">hash</span><span class="o">);</span> <span class="c1">// vBZf8OQuiTJIVbNpNHGY3zcUsK5gJpwb5lgCgarpxYI=</span>
    <span class="o">}</span>
    <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Error"</span><span class="o">);</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<p>To query APIs with private data, you must include a signature using base64 encoded HMAC sha256 algorithm. The prehash string is <code>&lt;timestamp&gt;+&lt;api-path&gt;</code>. 
The <code>timestamp</code> is the UTC timestamp in milliseconds.  </p>

<p>See the code demos in (<code>bash</code>/<code>python</code>/<code>java</code>) on the right.</p>
<h2 id='market-data-public'>Market Data (Public)</h2>
<p>You don&#39;t need to sign the request to access public market data. </p>
<h3 id='list-all-assets'>List all Assets</h3>
<blockquote>
<p>List all Assets</p>
</blockquote>
<pre class="highlight plaintext"><code>curl -X GET https://bitmax.io/api/pro/v1/assets
</code></pre>
<blockquote>
<p>Sample Response </p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"assetCode"</span><span class="p">:</span><span class="w">        </span><span class="s2">"BTMX"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"assetName"</span><span class="p">:</span><span class="w">        </span><span class="s2">"BitMax.io Native Token"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"positionScale"</span><span class="p">:</span><span class="w">     </span><span class="mi">9</span><span class="p">,</span><span class="w">
            </span><span class="s2">"nativeScale"</span><span class="p">:</span><span class="w">       </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"withdrawalFee"</span><span class="p">:</span><span class="w">     </span><span class="mi">11</span><span class="p">,</span><span class="w">
            </span><span class="s2">"minWithdrawalAmt"</span><span class="p">:</span><span class="w">  </span><span class="mi">22</span><span class="p">,</span><span class="w">
            </span><span class="s2">"status"</span><span class="p">:</span><span class="w">           </span><span class="s2">"Normal"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><strong>HTTP Request</strong> </p>

<p><code>GET /api/pro/v1/assets</code></p>

<p>You can obtain a list of all assets listed on the exchange through this API.</p>

<p><strong>Response Content</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>assetCode</code></td>
<td><code>String</code></td>
<td>asset code. e.g. <code>&quot;BTMX&quot;</code></td>
</tr>
<tr>
<td><code>assetname</code></td>
<td><code>String</code></td>
<td>full name of the asset, e.g. <code>&quot;BitMax.io Native Token&quot;</code></td>
</tr>
<tr>
<td><code>minWithdrawalAmt</code></td>
<td><code>String</code></td>
<td>minimum amount required for the withdrawal request e.g. &quot;10.0&quot;</td>
</tr>
<tr>
<td><code>nativeScale</code></td>
<td><code>Int</code></td>
<td>scale used in deposit/withdraw transaction from/to chain.</td>
</tr>
<tr>
<td><code>positionScale</code></td>
<td><code>Int</code></td>
<td>scale used in internal position keeping.</td>
</tr>
<tr>
<td><code>withdrawFee</code></td>
<td><code>String</code></td>
<td>fee charged for each withdrawal request. e.g. &quot;0.01&quot;</td>
</tr>
<tr>
<td><code>status</code></td>
<td><code>String</code></td>
<td>values: <code>Normal</code>, <code>NoDeposit</code>, <code>NoWithdraw</code>, <code>NoTransaction</code></td>
</tr>
</tbody></table>
<h3 id='list-all-products'>List all Products</h3>
<blockquote>
<p>List all Products </p>
</blockquote>
<pre class="highlight plaintext"><code>curl -X GET https://bitmax.io/api/pro/v1/products
</code></pre>
<blockquote>
<p>Sample Response </p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w">                </span><span class="s2">"BTMX/USDT"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"baseAsset"</span><span class="p">:</span><span class="w">             </span><span class="s2">"BTMX"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"quoteAsset"</span><span class="p">:</span><span class="w">            </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"status"</span><span class="p">:</span><span class="w">                </span><span class="s2">"Normal"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"minNotional"</span><span class="p">:</span><span class="w">           </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"maxNotional"</span><span class="p">:</span><span class="w">           </span><span class="s2">"100000"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"marginTradable"</span><span class="p">:</span><span class="w">         </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"commissionType"</span><span class="p">:</span><span class="w">        </span><span class="s2">"Quote"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"commissionReserveRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.001"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"tickSize"</span><span class="p">:</span><span class="w">              </span><span class="s2">"0.000001"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"lotSize"</span><span class="p">:</span><span class="w">               </span><span class="s2">"0.001"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><strong>HTTP Request</strong></p>

<p><code>GET /api/pro/v1/products</code></p>
<h4 id='response-content'>Response Content</h4>
<p>You can obtain a list of all products traded on the exchange through this API.</p>

<p>The response contains the following general fields:</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>symbol</code></td>
<td><code>String</code></td>
<td>e.g. <code>&quot;BTMX/USDT&quot;</code></td>
</tr>
<tr>
<td><code>baseAsset</code></td>
<td><code>String</code></td>
<td>e.g. <code>&quot;BTMX&quot;</code></td>
</tr>
<tr>
<td><code>quoteAsset</code></td>
<td><code>String</code></td>
<td>e.g. <code>&quot;USDT&quot;</code></td>
</tr>
<tr>
<td><code>status</code></td>
<td><code>String</code></td>
<td><code>&quot;Normal&quot;</code></td>
</tr>
</tbody></table>

<p>The response also contains criteria for new order request. </p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>minNotional</code></td>
<td><code>String</code></td>
<td>minimum notional of an order</td>
</tr>
<tr>
<td><code>maxNotional</code></td>
<td><code>String</code></td>
<td>maximum notional of an order</td>
</tr>
<tr>
<td><code>tickSize</code></td>
<td><code>String</code></td>
<td>tick size of order price</td>
</tr>
<tr>
<td><code>lotSize</code></td>
<td><code>String</code></td>
<td>lot size of order quantity</td>
</tr>
<tr>
<td><code>marginTradable</code></td>
<td><code>Boolean</code></td>
<td><code>true</code> if the product is tradable in the margin account; <code>false</code> otherwise.</td>
</tr>
<tr>
<td><code>commissionType</code></td>
<td><code>String</code></td>
<td><code>&quot;Base&quot;</code>, <code>&quot;Quote&quot;</code>, <code>&quot;Received&quot;</code></td>
</tr>
<tr>
<td><code>commissionReserveRate</code></td>
<td><code>String</code></td>
<td>e.g. <code>&quot;0.001&quot;</code>, see below.</td>
</tr>
</tbody></table>

<p>When placing orders, you should comply with all criteria above. More details can be found in the <a href="#order-request-criteria">Order Request Criteria</a> section.</p>
<h3 id='ticker'>Ticker</h3>
<blockquote>
<p>Ticker for one product</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">//</span><span class="w"> </span><span class="err">curl</span><span class="w"> </span><span class="err">-X</span><span class="w"> </span><span class="err">GET</span><span class="w"> </span><span class="err">'https</span><span class="p">:</span><span class="err">//bitmax.io/api/pro/v</span><span class="mi">1</span><span class="err">/ticker?symbol=BTMX/USDT'</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTMX/USDT"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"open"</span><span class="p">:</span><span class="w">   </span><span class="s2">"0.06777"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"close"</span><span class="p">:</span><span class="w">  </span><span class="s2">"0.06809"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"high"</span><span class="p">:</span><span class="w">   </span><span class="s2">"0.06899"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"low"</span><span class="p">:</span><span class="w">    </span><span class="s2">"0.06708"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"volume"</span><span class="p">:</span><span class="w"> </span><span class="s2">"19823722"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ask"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"0.0681"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"43641"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"bid"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"0.0676"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"443"</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>List of Tickers for one or multiple products</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">//</span><span class="w"> </span><span class="err">curl</span><span class="w"> </span><span class="err">-X</span><span class="w"> </span><span class="err">GET</span><span class="w"> </span><span class="s2">"https://bitmax.io/api/pro/v1/ticker?symbol=BTMX/USDT,"</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTMX/USDT"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"open"</span><span class="p">:</span><span class="w">   </span><span class="s2">"0.06777"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"close"</span><span class="p">:</span><span class="w">  </span><span class="s2">"0.06809"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"high"</span><span class="p">:</span><span class="w">   </span><span class="s2">"0.06809"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"low"</span><span class="p">:</span><span class="w">    </span><span class="s2">"0.06809"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"volume"</span><span class="p">:</span><span class="w"> </span><span class="s2">"19825870"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ask"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"0.0681"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"43641"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"bid"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"0.0676"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"443"</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><strong>HTTP Request</strong></p>

<p><code>GET api/pro/v1/ticker</code></p>

<p>You can get summary statistics of one or multiple symbols with this API. </p>
<h4 id='request-parameters'>Request Parameters</h4>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Value Range</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>symbol</code></td>
<td><code>String</code></td>
<td>No</td>
<td></td>
<td>you may specify one, multiple, or all symbols of interest. See below.</td>
</tr>
</tbody></table>

<p>This API endpoint accepts one optional string field <code>symbol</code>: </p>

<ul>
<li>If you do not specify <code>symbol</code>, the API will responde with tickers of all symbols in a list. </li>
<li>If you set <code>symbol</code> to be a single symbol, such as <code>BTMX/USDT</code>, the API will respond with the ticker of the target symbol as an object. 
If you want to wrap the object in a one-element list, append a comma to the symbol, e.g. <code>BTMX/USDT,</code>.</li>
<li>You shall specify <code>symbol</code> as a comma separated symbol list, e.g. <code>BTMX/USDT,BTC/USDT</code>. The API will respond with a list of tickers. </li>
</ul>
<h4 id='respond-content'>Respond Content</h4>
<p>The API will respond with a ticker object or a list of ticker objects, depending on how you set the <code>symbol</code> parameter. </p>

<p>Each ticker object contains the following fields:</p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>symbol</code></td>
<td><code>String</code></td>
<td></td>
</tr>
<tr>
<td><code>open</code></td>
<td><code>String</code></td>
<td>the traded price 24 hour ago</td>
</tr>
<tr>
<td><code>close</code></td>
<td><code>String</code></td>
<td>the last traded price</td>
</tr>
<tr>
<td><code>high</code></td>
<td><code>String</code></td>
<td>the highest price over the past 24 hours</td>
</tr>
<tr>
<td><code>low</code></td>
<td><code>String</code></td>
<td>the lowest price over the past 24 hours</td>
</tr>
<tr>
<td><code>volume</code></td>
<td><code>String</code></td>
<td>the total traded volume in quote asset over the paste 24 hours</td>
</tr>
<tr>
<td><code>ask</code></td>
<td><code>[String, String]</code></td>
<td>the price and size at the current best ask level</td>
</tr>
<tr>
<td><code>bid</code></td>
<td><code>[String, String]</code></td>
<td>the price and size at the current best bid level</td>
</tr>
</tbody></table>
<h4 id='code-sample'>Code Sample</h4>
<p>Please refer to python code to [query ticker info]{https://github.com/bitmax-exchange/bitmax-pro-api-demo/blob/master/python/query_pub_ticker.py}</p>
<h3 id='bar-info'>Bar Info</h3>
<blockquote>
<p>Request </p>
</blockquote>
<pre class="highlight plaintext"><code>curl -X GET https://bitmax.io/api/pro/v1/barhist/info
</code></pre>
<blockquote>
<p>Sample response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"intervalInMillis"</span><span class="p">:</span><span class="w"> </span><span class="mi">60000</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"intervalInMillis"</span><span class="p">:</span><span class="w"> </span><span class="mi">300000</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"intervalInMillis"</span><span class="p">:</span><span class="w"> </span><span class="mi">900000</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"intervalInMillis"</span><span class="p">:</span><span class="w"> </span><span class="mi">1800000</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"intervalInMillis"</span><span class="p">:</span><span class="w"> </span><span class="mi">3600000</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"120"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"intervalInMillis"</span><span class="p">:</span><span class="w"> </span><span class="mi">7200000</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"240"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"intervalInMillis"</span><span class="p">:</span><span class="w"> </span><span class="mi">14400000</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"360"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"intervalInMillis"</span><span class="p">:</span><span class="w"> </span><span class="mi">21600000</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"720"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"intervalInMillis"</span><span class="p">:</span><span class="w"> </span><span class="mi">43200000</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1d"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"intervalInMillis"</span><span class="p">:</span><span class="w"> </span><span class="mi">86400000</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1w"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"intervalInMillis"</span><span class="p">:</span><span class="w"> </span><span class="mi">604800000</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1m"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"intervalInMillis"</span><span class="p">:</span><span class="w"> </span><span class="mi">2592000000</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><strong>HTTP Request</strong></p>

<p><code>GET /api/pro/v1/barhist/info</code></p>

<p>This API returns a list of all bar intervals supported by the server. </p>
<h4 id='request-parameters'>Request Parameters</h4>
<p>This API endpoint does not take any parameters. </p>
<h4 id='resposne'>Resposne</h4>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>name</code></td>
<td><code>String</code></td>
<td>name of the interval</td>
</tr>
<tr>
<td><code>intervalInMillis</code></td>
<td><code>Long</code></td>
<td>length of the interval</td>
</tr>
</tbody></table>

<p>Plesae note that the one-month bar (<code>1m</code>) always resets at the month start. The <code>intervalInMillis</code> value for the one-month <code>bar</code> is only indicative. </p>

<p>The value in the <code>name</code> field should be your input to the <a href="#historical-bar-data">Historical Bar Data</a> API.</p>
<h3 id='historical-bar-data'>Historical Bar Data</h3>
<blockquote>
<p>Request </p>
</blockquote>
<pre class="highlight plaintext"><code>curl -X GET https://bitmax.io/api/pro/v1/barhist?symbol=BTMX/USDT&amp;interval=1
</code></pre>
<blockquote>
<p>Sample response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"c"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.05019"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.05019"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"i"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"l"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.05019"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"o"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.05019"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1575409260000</span><span class="p">,</span><span class="w">
                </span><span class="s2">"v"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1612"</span><span class="p">},</span><span class="w">
           </span><span class="s2">"m"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bar"</span><span class="p">,</span><span class="w">
           </span><span class="s2">"s"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTMX/USDT"</span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"c"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.05019"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.05027"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"i"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"l"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.05017"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"o"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.05017"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1575409200000</span><span class="p">,</span><span class="w">
                </span><span class="s2">"v"</span><span class="p">:</span><span class="w"> </span><span class="s2">"57242"</span><span class="w">
                </span><span class="p">},</span><span class="w">
           </span><span class="s2">"m"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bar"</span><span class="p">,</span><span class="w">
           </span><span class="s2">"s"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTMX/USDT"</span><span class="p">},</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><strong>HTTP Request</strong></p>

<p><code>GET /api/pro/v1/barhist</code></p>

<p>This API returns a list of <strong>bar</strong>s, with each contains the open/close/high/low prices of a symbol for a specific time range. </p>
<h4 id='request-parameters-2'>Request Parameters</h4>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>symbol</code></td>
<td><code>String</code></td>
<td>Yes</td>
<td>e.g. <code>&quot;BTMX/USDT&quot;</code></td>
</tr>
<tr>
<td><code>interval</code></td>
<td><code>String</code></td>
<td>Yes</td>
<td>a string representing the interval type.</td>
</tr>
<tr>
<td><code>to</code></td>
<td><code>Long</code></td>
<td>No</td>
<td>UTC timestamp in milliseconds. If not provided, this field will be set to the current time.</td>
</tr>
<tr>
<td><code>from</code></td>
<td><code>Long</code></td>
<td>No</td>
<td>UTC timestamp in milliseconds.</td>
</tr>
<tr>
<td><code>n</code></td>
<td><code>Int</code></td>
<td>No</td>
<td>default 10, number of bars to be returned, this number will be capped at 500</td>
</tr>
</tbody></table>

<p>The requested time range is determined by three parameters - <code>to</code>, <code>from</code>, and <code>n</code> - according to rules below:</p>

<ul>
<li><code>from</code>/<code>to</code> each specifies the start timestamp of the first/last bar. </li>
<li><code>to</code> is always honored. If not provided, this field will be set to the current system time. </li>
<li>For <code>from</code> and <code>to</code>: 

<ul>
<li>if only <code>from</code> is provided, then the request range is determined by <code>[from, to]</code>, inclusive. However, if the range is too wide,
the server will increase <code>from</code> so the number of bars in the response won&#39;t exceed 500. </li>
<li>if only <code>n</code> is provided, then the server will return the most recent <code>n</code> data bars to time <code>to</code>. However, if <code>n</code> is greater than 500, 
only 500 bars will be returned. </li>
<li>if both <code>from</code> and <code>n</code> are specified, the server will pick one that returns fewer bars. </li>
</ul></li>
</ul>
<h4 id='response'>Response</h4>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>value</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>m</code></td>
<td>String</td>
<td><code>bar</code></td>
<td>message type</td>
</tr>
<tr>
<td><code>s</code></td>
<td>String</td>
<td></td>
<td>symbol</td>
</tr>
<tr>
<td><code>data:ts</code></td>
<td>Long</td>
<td></td>
<td>bar start time in milliseconds</td>
</tr>
<tr>
<td><code>i</code></td>
<td>String</td>
<td></td>
<td>interval</td>
</tr>
<tr>
<td><code>o</code></td>
<td>String</td>
<td></td>
<td>open price</td>
</tr>
<tr>
<td><code>c</code></td>
<td>String</td>
<td></td>
<td>close price</td>
</tr>
<tr>
<td><code>h</code></td>
<td>String</td>
<td></td>
<td>high price</td>
</tr>
<tr>
<td><code>l</code></td>
<td>String</td>
<td></td>
<td>low price</td>
</tr>
<tr>
<td><code>v</code></td>
<td>String</td>
<td></td>
<td>volume in quote asset</td>
</tr>
</tbody></table>
<h4 id='code-sample'>Code Sample</h4>
<p>Please refer python code to [get bar history]{https://github.com/bitmax-exchange/bitmax-pro-api-demo/blob/master/python/query_pub_barhist.py}</p>
<h3 id='order-book-depth'>Order Book (Depth)</h3>
<blockquote>
<p>Request for Order Book (Depth) Data</p>
</blockquote>
<pre class="highlight plaintext"><code>curl -X GET https://bitmax.io/api/pro/v1/depth?symbol=BTMX/USDT
</code></pre>
<blockquote>
<p>Order Book (Depth) Data - Sample response </p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"m"</span><span class="p">:</span><span class="w">      </span><span class="s2">"depth-snapshot"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTMX/USDT"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"seqnum"</span><span class="p">:</span><span class="w">  </span><span class="mi">5068757</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ts"</span><span class="p">:</span><span class="w">      </span><span class="mi">1573165838976</span><span class="p">,</span><span class="w">
            </span><span class="s2">"asks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">[</span><span class="w">
                    </span><span class="s2">"0.06848"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"4084.2"</span><span class="w">
                </span><span class="p">],</span><span class="w">
                </span><span class="p">[</span><span class="w">
                    </span><span class="s2">"0.0696"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"15890.6"</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"bids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">[</span><span class="w">
                    </span><span class="s2">"0.06703"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"13500"</span><span class="w">
                </span><span class="p">],</span><span class="w">
                </span><span class="p">[</span><span class="w">
                    </span><span class="s2">"0.06615"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"24036.9"</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><strong>HTTP Request</strong></p>

<p><code>GET /api/pro/v1/depth</code></p>
<h4 id='request-parameters'>Request Parameters</h4>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Value Range</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>symbol</code></td>
<td>String</td>
<td>Yes</td>
<td>Valid symbol supported by exchange</td>
<td></td>
</tr>
</tbody></table>
<h4 id='response-content'>Response Content</h4>
<p><code>data</code> field in response contains depth data and meta info.</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>m</code></td>
<td><code>String</code></td>
<td><code>&quot;depth-snapshot&quot;</code></td>
</tr>
<tr>
<td><code>symbol</code></td>
<td><code>String</code></td>
<td>e.g. <code>&quot;BTMX/USDT&quot;</code></td>
</tr>
<tr>
<td><code>data</code></td>
<td><code>Json</code></td>
<td>actual bid and ask info. See below for detail.</td>
</tr>
</tbody></table>

<p>Actual depth data in <code>data</code> section:</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>seqnum</code></td>
<td><code>Long</code></td>
<td>a sequence number that is guaranteed to increase for each symbol.</td>
</tr>
<tr>
<td><code>ts</code></td>
<td><code>Long</code></td>
<td>UTC timestamp in milliseconds when the message is generated by the server</td>
</tr>
<tr>
<td><code>asks</code></td>
<td><code>[String, String]</code></td>
<td>pair of price and size of ask levels</td>
</tr>
<tr>
<td><code>bids</code></td>
<td><code>[String, String]</code></td>
<td>pair of price and size of bid levels</td>
</tr>
</tbody></table>
<h4 id='demo-sample'>Demo Sample</h4>
<p>Pleas refer to python code to <a href="https://github.com/bitmax-exchange/bitmax-pro-api-demo/blob/master/python/query_pub_depth.py">take depth snapshot</a></p>
<h3 id='market-trades'>Market Trades</h3>
<blockquote>
<p>Request </p>
</blockquote>
<pre class="highlight plaintext"><code>curl -X GET /api/pro/v1/trades?symbol=BTMX/USDT
</code></pre>
<blockquote>
<p>Sample response </p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"m"</span><span class="p">:</span><span class="w"> </span><span class="s2">"trades"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTMX/USDT"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"seqnum"</span><span class="p">:</span><span class="w"> </span><span class="mi">144115191800016553</span><span class="p">,</span><span class="w">
                </span><span class="s2">"p"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.06762"</span><span class="p">,</span><span class="w">            
                </span><span class="s2">"q"</span><span class="p">:</span><span class="w"> </span><span class="s2">"400"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1573165890854</span><span class="p">,</span><span class="w">
                </span><span class="s2">"bm"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">               </span><span class="err">//</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">buyer</span><span class="w"> </span><span class="err">maker?</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"seqnum"</span><span class="p">:</span><span class="w"> </span><span class="mi">144115191800070421</span><span class="p">,</span><span class="w">
                </span><span class="s2">"p"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.06797"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"q"</span><span class="p">:</span><span class="w"> </span><span class="s2">"341"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1573166037845</span><span class="p">,</span><span class="w">
                </span><span class="s2">"bm"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><strong>HTTP Request</strong></p>

<p><code>GET /api/pro/v1/trades</code></p>
<h4 id='request-parameters'>Request Parameters</h4>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Value Range</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>symbol</code></td>
<td>String</td>
<td>Yes</td>
<td>Valid symbol supported by exchange</td>
<td></td>
</tr>
<tr>
<td><code>n</code></td>
<td>Int</td>
<td>No</td>
<td>any positive integer, capped at 100</td>
<td>number of trades to return.</td>
</tr>
</tbody></table>
<h4 id='response-content'>Response Content</h4>
<p><code>data</code> field in response contains trade data and meta info.</p>

<p>Name     | Type     | Description
<code>m</code>      | <code>String</code> | <code>trades</code>
<code>symbol</code> | <code>String</code> | trade symbol
<code>data</code>   | <code>Json</code>   | A list of trade record; see below for detail.</p>

<p>Trade record information in <code>data</code>:</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>seqnum</code></td>
<td><code>Long</code></td>
<td>the sequence number of the trade record. <code>seqnum</code> is always increasing for each symbol, but may not be consecutive</td>
</tr>
<tr>
<td><code>p</code></td>
<td><code>String</code></td>
<td>trade price in string format</td>
</tr>
<tr>
<td><code>q</code></td>
<td><code>String</code></td>
<td>trade size in string format</td>
</tr>
<tr>
<td><code>ts</code></td>
<td><code>Long</code></td>
<td>UTC timestamp in milliseconds</td>
</tr>
<tr>
<td><code>bm</code></td>
<td><code>Boolean</code></td>
<td>If true, the maker of the trade is the buyer.</td>
</tr>
</tbody></table>
<h4 id='code-sample'>Code Sample</h4>
<p>Please refer to python code to [query trades]{https://github.com/bitmax-exchange/bitmax-pro-api-demo/blob/master/python/query_pub_trades.py}</p>
<h2 id='account'>Account</h2><h3 id='account-info'>Account Info</h3>
<blockquote>
<p>Account Info - Sample response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"accountGroup"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"yyzzxxz@gmail.com"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cashAccount"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"dadFNEYEJIJ93CRxdafd3LTCIDIJPCFNIX"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"marginAccount"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"mar2z3CMIEQx4UadasbtQ9JcxWJYgHmcb"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"tradePermission"</span><span class="p">:</span><span class="w">    </span><span class="err">True</span><span class="p">,</span><span class="w">
        </span><span class="s2">"transferPermission"</span><span class="p">:</span><span class="w"> </span><span class="err">True</span><span class="p">,</span><span class="w">
        </span><span class="s2">"userUID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"U0866943712"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"viewPermission"</span><span class="p">:</span><span class="w">     </span><span class="err">True</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><strong>HTTP Request</strong> </p>

<p><code>GET /api/pro/v1/info</code></p>

<p><strong>Signature</strong></p>

<p>You should sign the message in header as specified in <a href="#sign-a-Request"><strong>Authenticate a RESTful Request</strong></a> section.</p>

<p><strong>prehash string</strong> </p>

<p><code>&lt;timestamp&gt;+info</code></p>

<p>Obtain the account information. </p>

<p>You can obtain your <code>accountGroup</code> from this API, which you will need to include in the URL for all your private RESTful requests.</p>
<h4 id='response-content'>Response Content</h4>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>accountGroup</code></td>
<td><code>Int</code></td>
<td>non-negative integer</td>
</tr>
<tr>
<td><code>email</code></td>
<td><code>String</code></td>
<td></td>
</tr>
<tr>
<td><code>cashAccount</code></td>
<td><code>List[String]</code></td>
<td></td>
</tr>
<tr>
<td><code>marginAccount</code></td>
<td><code>List[String]</code></td>
<td></td>
</tr>
<tr>
<td><code>tradePermission</code></td>
<td><code>Boolean</code></td>
<td></td>
</tr>
<tr>
<td><code>transferPermission</code></td>
<td><code>Boolean</code></td>
<td></td>
</tr>
<tr>
<td><code>viewPermission</code></td>
<td><code>Boolean</code></td>
<td></td>
</tr>
<tr>
<td><code>userUID</code></td>
<td><code>String</code></td>
<td>an unique id associated with user</td>
</tr>
</tbody></table>

<p>See a demo at <a href="https://github.com/bitmax-exchange/bitmax-pro-api-demo/blob/master/python/query_prv_account_info.py">query private account info</a>.</p>
<h3 id='fee-schedule'>Fee Schedule</h3>
<p>@ToDo</p>
<h2 id='balance'>Balance</h2><h3 id='cash-account-balance'>Cash Account Balance</h3>
<blockquote>
<p>Cash Account Balance - Sample response </p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"asset"</span><span class="p">:</span><span class="w">            </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"totalBalance"</span><span class="p">:</span><span class="w">    </span><span class="s2">"1285.366663467"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"availableBalance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1285.366663467"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"asset"</span><span class="p">:</span><span class="w">            </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"totalBalance"</span><span class="p">:</span><span class="w">    </span><span class="s2">"22.1308675"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"availableBalance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16.1308675"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"asset"</span><span class="p">:</span><span class="w">            </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"totalBalance"</span><span class="p">:</span><span class="w">     </span><span class="s2">"0.6"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"availableBalance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.6"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><strong>HTTP Request</strong></p>

<p><code>GET &lt;account-group&gt;/api/pro/v1/cash/balance</code></p>

<p><strong>Signature</strong></p>

<p>You should sign the message in header as specified in <a href="#sign-request"><strong>Authenticate a RESTful Request</strong></a> section.</p>

<p><strong>Prehash String</strong> </p>

<p><code>&lt;timestamp&gt;+balance</code></p>

<p><strong>Code Sample</strong></p>

<p>Please refer to python code to[query private balance]{https://github.com/bitmax-exchange/bitmax-pro-api-demo/blob/master/python/query_prv_balance.py}</p>
<h3 id='margin-account-balance'>Margin Account Balance</h3>
<blockquote>
<p>Margin Account Balance - Sample response </p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"asset"</span><span class="p">:</span><span class="w">            </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"totalBalance"</span><span class="p">:</span><span class="w">     </span><span class="s2">"11200"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"availableBalance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11200"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"borrowed"</span><span class="p">:</span><span class="w">         </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"interest"</span><span class="p">:</span><span class="w">         </span><span class="s2">"0"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"asset"</span><span class="p">:</span><span class="w">            </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"totalBalance"</span><span class="p">:</span><span class="w">     </span><span class="s2">"20"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"availableBalance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"borrowed"</span><span class="p">:</span><span class="w">         </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"interest"</span><span class="p">:</span><span class="w">         </span><span class="s2">"0"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><strong>HTTP Request</strong> </p>

<p><code>GET &lt;account-group&gt;/api/pro/v1/margin/balance</code></p>

<p><strong>Signature</strong></p>

<p>You should sign the message in header as specified in <a href="#signing-a-Request"><strong>Authenticate a RESTful Request</strong></a> section.</p>

<p><strong>Prehash String</strong> </p>

<p><code>&lt;timestamp&gt;+balance</code></p>
<h3 id='margin-risk-profile'>Margin Risk Profile</h3>
<blockquote>
<p>Margin Account Risk Profile - Sample response </p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"accountMaxLeverage"</span><span class="p">:</span><span class="w">     </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"availableBalanceInUSDT"</span><span class="p">:</span><span class="w"> </span><span class="s2">"17715.8175"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"totalBalanceInUSDT"</span><span class="p">:</span><span class="w">     </span><span class="s2">"17715.8175"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"totalBorrowedInUSDT"</span><span class="p">:</span><span class="w">    </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"totalInterestInUSDT"</span><span class="p">:</span><span class="w">    </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"netBalanceInUSDT"</span><span class="p">:</span><span class="w">       </span><span class="s2">"17715.8175"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pointsBalance"</span><span class="p">:</span><span class="w">          </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"currentLeverage"</span><span class="p">:</span><span class="w">        </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cushion"</span><span class="p">:</span><span class="w">                </span><span class="s2">"-1"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><strong>HTTP Request</strong></p>

<p><code>POST &lt;account-group&gt;/api/pro/v1/margin/risk</code></p>

<p><strong>Signature</strong></p>

<p>You should sign the message in header as specified in <a href="#signing-a-Request"><strong>Authenticate a RESTful Request</strong></a> section.</p>

<p><strong>Prehash String</strong></p>

<p><code>&lt;timestamp&gt;+margin/risk</code></p>

<p><strong>Code Sample</strong></p>

<p>Please refer to python code to[query private margin risk]{https://github.com/bitmax-exchange/bitmax-pro-api-demo/blob/master/python/query_prv_margin_risk.py}</p>
<h2 id='order'>Order</h2>
<p>Trading and Order related APIs. API path usually depend on account-group and account-category: </p>

<ul>
<li><p>account-group   : get your account-group from &#39;Account Info&#39; API</p></li>
<li><p>account-category: cash or margin</p></li>
</ul>

<p>For all order related ack or data, there is <em>orderId</em> field to identify the order. </p>
<h3 id='generate-order-id'>Generate Order Id</h3>
<p>We use the following method to generate an unique id for each order place/cancel request. (You could get <code>userUID</code> from <code>Account Info</code> API.)</p>

<p><strong>Method</strong></p>

<ul>
<li><p>A = &#39;a&#39; for order via rest api, or &#39;s&#39; for order via websocket;</p></li>
<li><p>B = Convert timestamp (in miliseconds) to hex string;</p></li>
<li><p>C = User UID (11 chars, starting with &#39;U&#39; followed by 10 digits);</p></li>
<li><p>D = If user provide client order Id (with length &gt;= 9, letters and digits only), then take the right 9 chars; otherwise, we randomly generate 9 chars;</p></li>
<li><p>Final order Id = A + B + C + D.</p></li>
</ul>

<p><strong>Code Sample</strong></p>

<p>Please refer to python code to <a href="https://github.com/bitmax-exchange/bitmax-pro-api-demo/blob/master/python/util.py">gen server order id</a></p>
<h3 id='place-order'>Place Order</h3>
<blockquote>
<p>Place Order - Successful ACK Response (Status 200, code 0)</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"ac"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MARGIN"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cshQtyfq8XLAA9kcf19h8bXHbAwwoqDo"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"place-order"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"info"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w">        </span><span class="s2">"16e607e2b83a8bXHbAwwoqDo55c166fa"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"orderId"</span><span class="p">:</span><span class="w">   </span><span class="s2">"16e85b4d9b9a8bXHbAwwoqDoc3d66830"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Market"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w">    </span><span class="s2">"BTC/USDT"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w">  </span><span class="mi">1573576916201</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ack"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Place Order with <code>ACCEPT</code> respInst</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"iGwzbzWxxcHwno4b8VCvh8aaYCJaPALm"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1575403713964</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC/USDT"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"orderPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7289.0"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"orderQty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00082"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"limit"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sell"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"respInst"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ACCEPT"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Successful ACCEPT Response (Status 200, code 0)</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"ac"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CASH"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cshQtyfq8XLAA9kcf19h8bXHbAwwoqDo"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"place-order"</span><span class="p">,</span><span class="w">          
        </span><span class="s2">"info"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">            
            </span><span class="s2">"avgPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"cumFee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"cumFilledQty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"errorCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"feeAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"lastExecTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1575573998500</span><span class="p">,</span><span class="w">
            </span><span class="s2">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a16ed787462fU9490877774N4KBHIVN0"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"orderQty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00081"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Limit"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7019"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"seqNum"</span><span class="p">:</span><span class="w"> </span><span class="mi">2323407894</span><span class="p">,</span><span class="w">
            </span><span class="s2">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Buy"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"New"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"stopPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC/USDT"</span><span class="p">},</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ACCEPT"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">   
</span></code></pre>
<blockquote>
<p>Place Order with <code>DONE</code> respInst </p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UHTe3uVB0KhNGatoRS10YgABwHW0fCYn"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1575348906131</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC/USDT"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"orderQty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00082"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"respInst"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DONE"</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Successful DONE Response (Status 200, code 0)</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
 </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"ac"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CASH"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MPXFNEYEJIJ93CREXT3LTCIDIJPCFNIX"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"place-order"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"info"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"avgPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7399.99"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cumFee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.003296696"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cumFilledQty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00081"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"errorCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"feeAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ROunD0hpprO2KEgkVK30FOIpPK3zuGGh"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"lastExecTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1575646514077</span><span class="p">,</span><span class="w">
        </span><span class="s2">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a16edbd9aefaU9490877774pPK3zuGGh"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"orderQty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00081"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Market"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"seqNum"</span><span class="p">:</span><span class="w"> </span><span class="mi">2348421435</span><span class="p">,</span><span class="w">
        </span><span class="s2">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sell"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Filled"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"stopPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC/USDT"</span><span class="p">},</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DONE"</span><span class="p">}}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Place Order - Error Response (Status 200, code 0)</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">300011</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ac"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CASH"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cshQtyfq8XLAA9kcf19h8bXHbAwwoqDo"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"place-order"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"info"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"JkpnjJRuBtFpW7F7PWDB7uwBEJtUOISZ"</span><span class="p">,</span><span class="w"> 
        </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC/USDT"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Not Enough Account Balance"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INVALID_BALANCE"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Err"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<p>Place a new order.</p>

<p><strong>HTTP Request</strong></p>

<p><code>POST &lt;account-group&gt;/api/pro/v1/{account-category}/order</code></p>

<p>Set <code>account-category</code> to<code>cash</code> for cash account and <code>margin</code> for margin account. </p>

<p><strong>Signature</strong></p>

<p>You should sign the message in header as specified in <a href="#sign-request"><strong>Authenticate a RESTful Request</strong></a> section.</p>

<p><strong>Prehash String</strong></p>

<p><code>&lt;timestamp&gt;+order</code></p>
<h4 id='request-parameters'>Request Parameters</h4>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Value Range</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>String</td>
<td>Yes</td>
<td></td>
<td></td>
</tr>
<tr>
<td>time</td>
<td>Long</td>
<td>Yes</td>
<td>milliseconds since UNIX epoch in UTC</td>
<td>We do not process request placed more than 30 seconds ago.</td>
</tr>
<tr>
<td>orderQty</td>
<td>String</td>
<td>Yes</td>
<td></td>
<td>Order size. Please set scale properly for each symbol.</td>
</tr>
<tr>
<td>orderType</td>
<td>String</td>
<td>Yes</td>
<td>[&quot;market&quot;, &quot;limit&quot;]</td>
<td>Order type</td>
</tr>
<tr>
<td>side</td>
<td>String</td>
<td>Yes</td>
<td>[&quot;buy&quot;, &quot;sell&quot;]</td>
<td></td>
</tr>
<tr>
<td>id</td>
<td>String</td>
<td>No</td>
<td>&gt;=9 chars(letter and digit number only)</td>
<td>Optional but recommended. We echo it back to help you match response with request.</td>
</tr>
<tr>
<td>orderPrice</td>
<td>String</td>
<td>No</td>
<td></td>
<td>The limit price for limit order. Please set price scale properly.</td>
</tr>
<tr>
<td>stopPrice</td>
<td>String</td>
<td>No</td>
<td></td>
<td>Trigger price of stop limit order</td>
</tr>
<tr>
<td>postOnly</td>
<td>Boolean</td>
<td>No</td>
<td>[&quot;true&quot;, &quot;false&quot;]</td>
<td></td>
</tr>
<tr>
<td>timeInForce</td>
<td>String</td>
<td>No</td>
<td>[&quot;GTC&quot;, &quot;IOC&quot;]</td>
<td>GTC: good-till-canceled; IOC: immediate-or-cancel. GTC by default.</td>
</tr>
<tr>
<td>respInst</td>
<td>String</td>
<td>No</td>
<td>[&quot;ACK&quot;, &quot;ACCEPT&quot;, &quot;DONE&quot;]</td>
<td>Response instruction. Refer to &quot;Response&quot; below. &quot;ACK&quot; by default.</td>
</tr>
</tbody></table>

<p>The table below shows how to correctly configure order of different types: (o - required, x - optional)</p>

<table><thead>
<tr>
<th>Name</th>
<th>Market</th>
<th>Limit</th>
<th>StopMarket</th>
<th>StopLimit</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>x</td>
</tr>
<tr>
<td>time</td>
<td>o</td>
<td>o</td>
<td>o</td>
<td>o</td>
</tr>
<tr>
<td>symbol</td>
<td>o</td>
<td>o</td>
<td>o</td>
<td>o</td>
</tr>
<tr>
<td>orderPrice</td>
<td></td>
<td>o</td>
<td></td>
<td>o</td>
</tr>
<tr>
<td>orderQty</td>
<td>o</td>
<td>o</td>
<td>o</td>
<td>o</td>
</tr>
<tr>
<td>orderType</td>
<td>o</td>
<td>o</td>
<td>o</td>
<td>o</td>
</tr>
<tr>
<td>side</td>
<td>o</td>
<td>o</td>
<td>o</td>
<td>o</td>
</tr>
<tr>
<td>postOnly</td>
<td></td>
<td>x</td>
<td></td>
<td></td>
</tr>
<tr>
<td>stopPrice</td>
<td></td>
<td></td>
<td>o</td>
<td>o</td>
</tr>
<tr>
<td>timeInForce</td>
<td></td>
<td>x</td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h4 id='order-request-criteria'>Order Request Criteria</h4>
<p>When placing a new <strong>limit</strong> order, the request parameters must meet all criteria defined in the <a href="#list-all-products">Products API</a>:</p>

<ul>
<li>The order notional must be within range <code>[minNotional, maxNotional]</code>. For limit orders, the order notional is defined as the product of <code>orderPrice</code> and <code>orderQty</code>.</li>
<li><code>orderPrice</code> and <code>stopPrice</code> must be multiples of <code>tickSize</code>.</li>
<li><code>orderQty</code> must be a multiple of <code>lotSize</code>.</li>
<li>If you are trading using the margin account, <code>marginTradable</code> must be <code>true</code>. </li>
<li>For cash trading, you must have sufficient balance to fund the order. 

<ul>
<li>for buy orders, if <code>commissionType=Quote</code>, the quote asset balance must be no less than <code>orderPrice * orderQty * (1 + commissionReserveRate)</code>. For all other <code>commissionType</code>s (<code>Base</code> and <code>Received</code>), the quote asset balance must be no less than <code>orderPrice * orderQty</code></li>
<li>for sell orders, if <code>commissionType=Base</code>, your base asset balance must be no less than <code>orderQty * (1 + commissionReserveRate)</code>, For other <code>commissionType</code>s (<code>Received</code> and <code>Quote</code>), the base asset balance must be no less than <code>orderQty</code>.</li>
</ul></li>
<li>For margin trading, you must make sure you have sufficient <strong>max sellable amount</strong> to fund the order. </li>
</ul>
<h4 id='response'>Response</h4>
<p>In &quot;Err&quot; response, <em>id</em> is the id provided by user when placing order; for other responses, <em>orderId</em> is the id generated by server following &quot;Order id generation method&quot; above, and this is the id you should provide for future order query or cancel. </p>

<p>In case you want to cancel an order before response from server, you could figure out the orderId following <strong>Order id generation method</strong> above.</p>

<p><em>ACK</em></p>

<p>Response with 0 <code>code</code> and status <code>Ack</code> to indicate new order request received by our server and passed some basic order field check. This is the default response type. If awaiting async order (ACCEPT or DONE) numbers exceeds capacity 1000, then the rest async order will be ACK automatically.</p>

<p><code>data</code> schema:</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>avgPx</code></td>
<td><code>String</code></td>
<td>average fill price</td>
</tr>
<tr>
<td><code>cumFee</code></td>
<td><code>String</code></td>
<td>cumulated filled comission</td>
</tr>
<tr>
<td><code>cumFilledQty</code></td>
<td><code>String</code></td>
<td>cumulated filled qty</td>
</tr>
<tr>
<td><code>errorCode</code></td>
<td><code>String</code></td>
<td>Could be empty</td>
</tr>
<tr>
<td><code>feeAsset</code></td>
<td><code>String</code></td>
<td>Fee asset, e.g, <code>USDT</code></td>
</tr>
<tr>
<td><code>id</code></td>
<td><code>String</code></td>
<td>id from request</td>
</tr>
<tr>
<td><code>lastExecTime</code></td>
<td><code>String</code></td>
<td>latest execution timestamp</td>
</tr>
<tr>
<td><code>orderId</code></td>
<td><code>String</code></td>
<td>order id</td>
</tr>
<tr>
<td><code>orderQty</code></td>
<td><code>String</code></td>
<td>order quantity</td>
</tr>
<tr>
<td><code>orderType</code></td>
<td><code>String</code></td>
<td>order type</td>
</tr>
<tr>
<td><code>price</code></td>
<td><code>String</code></td>
<td>order price</td>
</tr>
<tr>
<td><code>seqNum</code></td>
<td><code>Long</code></td>
<td>sequence number</td>
</tr>
<tr>
<td><code>side</code></td>
<td><code>String</code></td>
<td>order side</td>
</tr>
<tr>
<td><code>status</code></td>
<td><code>String</code></td>
<td>order status</td>
</tr>
<tr>
<td><code>stopPrice</code></td>
<td><code>String</code></td>
<td>stop price(could be empty)</td>
</tr>
<tr>
<td><code>symbol</code></td>
<td><code>String</code></td>
<td>symbol</td>
</tr>
</tbody></table>

<p><em>ACCEPT</em></p>

<p>Response with 0 <code>code</code> and status <code>ACCEPT</code> to indicate new order request is accepted by our match engine. Return normal &#39;Ack&#39; response if no &#39;New&#39; status update within 5 seconds. Order <code>status</code> in <code>data</code> could be <code>New</code>, or <code>PendingNew</code>.</p>

<p><em>DONE</em></p>

<p>Response with 0 <code>code</code> and status <code>Done</code> to indicate the order request is partially filled, fully filled, or rejected by matching engine. Return normal &#39;Ack&#39; response if no order status update within 5 seconds. Order <code>status</code> in <code>data</code> could be <code>Filled</code>, <code>PartiallyFilled</code>, <code>Cancelled</code>, or <code>Reject</code>, and so on.</p>

<p><em>ERR</em></p>

<p>Response with <code>code</code> other than 0 and  status <code>Err</code> to provide detailed error information on the order request. </p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>code</code></td>
<td><code>Long</code></td>
<td>none 0 to indicate error</td>
</tr>
<tr>
<td><code>ac</code></td>
<td><code>String</code></td>
<td><code>CASH</code>, <code>MARGIN</code></td>
</tr>
<tr>
<td><code>accountId</code></td>
<td><code>String</code></td>
<td>account id</td>
</tr>
<tr>
<td><code>action</code></td>
<td><code>String</code></td>
<td><code>place-order</code></td>
</tr>
<tr>
<td><code>message</code></td>
<td><code>String</code></td>
<td>detail error message</td>
</tr>
<tr>
<td><code>reason</code></td>
<td><code>String</code></td>
<td>error info code, e.g. &quot;INVALID_ORDER_ID&quot;</td>
</tr>
<tr>
<td><code>status</code></td>
<td><code>String</code></td>
<td>&quot;Err&quot;</td>
</tr>
<tr>
<td><code>info</code></td>
<td><code>Json</code></td>
<td>See below for detail</td>
</tr>
</tbody></table>

<p><code>info</code> schema:</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>symbol</code></td>
<td><code>String</code></td>
<td>symbol</td>
</tr>
<tr>
<td><code>id</code></td>
<td><code>String</code></td>
<td>id from request if provided</td>
</tr>
</tbody></table>

<p>Error Response Messages (TODO: verify HTTP Status Code)</p>

<table><thead>
<tr>
<th>HTTP Status Code</th>
<th>Error Code</th>
<th>Reason</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>xxx</td>
<td>Parameter Error</td>
<td></td>
</tr>
</tbody></table>

<p><strong>Code Sample</strong></p>

<p>Refer to sample python code to <a href="https://github.com/bitmax-exchange/bitmax-pro-api-demo/tree/master/python/place_order.py">place order</a></p>
<h3 id='cancel-order'>Cancel Order</h3>
<blockquote>
<p>Cancel Order - Successful ACK Response (Status 200, code 0)</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cshQtyfq8XLAA9kcf19h8bXHbAwwoqDo"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ac"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CASH"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cancel-order"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ack"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"info"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w">        </span><span class="s2">"wv8QGquoeamhssvQBeHOHGQCGlcBjj23"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"orderId"</span><span class="p">:</span><span class="w">   </span><span class="s2">"16e6198afb4s8bXHbAwwoqDo2ebc19dc"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">could</span><span class="w"> </span><span class="err">be</span><span class="w"> </span><span class="err">empty</span><span class="w">
            </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w">    </span><span class="s2">"ETH/USDT"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w">  </span><span class="mi">1573594877822</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Cancel Order - Error Response (Status 200, code 0)</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">300006</span><span class="p">,</span><span class="w">
    </span><span class="s2">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cshQtyfq8XLAA9kcf19h8bXHbAwwoqDo"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ac"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CASH"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cancel-order"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Err"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid Client Order Id: jHAfoOqZmRv3GP1URJ5624moJ9RCG2@3"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"reason"</span><span class="p">:</span><span class="w">  </span><span class="s2">"INVALID_ORDER_ID"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"info"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jHAfoOqZmRv3GP1URJ5624moJ9RCG2@3"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w">  </span><span class="s2">"ETH/USDT"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Cancel an existing open order. </p>

<p><strong>HTTP Request</strong></p>

<p><code>DELETE &lt;account-group&gt;/api/pro/v1/{account-category}/order</code></p>

<p>Set <code>account-category</code> to <code>cash</code> for cash account and <code>margin</code> for margin account. </p>

<p><strong>Signature</strong></p>

<p>You should sign the message in header as specified in <a href="#sign-request"><strong>Authenticate a RESTful Request</strong></a> section.</p>

<p><strong>Prehash String</strong></p>

<p><code>&lt;timestamp&gt;+order</code></p>

<p><strong>Request Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Value Range</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>String</td>
<td>Yes</td>
<td>32 chars(letter and digit number only)</td>
<td>Please generate unique ID for each trade; we will echo it back to help you identify the response.</td>
</tr>
<tr>
<td>orderId</td>
<td>String</td>
<td>Yes</td>
<td>32 chars order id responded by server when place order</td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>String</td>
<td>Yes</td>
<td></td>
<td></td>
</tr>
<tr>
<td>time</td>
<td>Long</td>
<td>Yes</td>
<td>milliseconds since UNIX epoch in UTC</td>
<td>We do not process request placed more than 30 seconds ago.</td>
</tr>
</tbody></table>

<p><strong>Response</strong></p>

<p><em>ACK</em></p>

<p>Response with status &quot;Ack&quot; to indicate the cancel order request is received by server. And you should use provided &quot;orderId&quot; to check cancel status in the future; we also echo back <em>id</em> from your request for reference purpose.</p>

<p><em>ERR</em></p>

<p>Response with status &quot;Err&quot; to indicate there is something wrong with the cancel order request. We echo back the <em>coid</em> field in your request.</p>

<p><strong>Code Sample</strong></p>

<p>Refer to sample python code to <a href="https://github.com/bitmax-exchange/bitmax-pro-api-demo/blob/master/python/cancel_order.py">cancel order</a></p>
<h3 id='cancel-all-orders'>Cancel All Orders</h3>
<blockquote>
<p>Cancel All Orders - Successful ACK Response (Status 200, code 0)</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"ac"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CASH"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cshQtyfq8XLAA9kcf19h8bXHbAwwoqDo"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cancel-all"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"info"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w">  </span><span class="s2">"2bmYvi7lyTrneMzpcJcf2D7Pe9V1P9wy"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"orderId"</span><span class="p">:</span><span class="w">   </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NULL_VAL"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w">    </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w">  </span><span class="mi">1574118495462</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ack"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Cancel all current open orders for the account specified, and optional symbol.</p>

<p><strong>HTTP Request</strong></p>

<p><code>DELETE &lt;account-group&gt;/api/pro/v1/{account-category}/order/all</code></p>

<p>Set <code>account-category</code> to<code>cash</code> for cash account and <code>margin</code> for margin account. </p>

<p><strong>Signature</strong></p>

<p>You should sign the message in header as specified in <a href="#sign-request"><strong>Authenticate a RESTful Request</strong></a> section.</p>

<p><strong>Prehash String</strong></p>

<p><code>&lt;timestamp&gt;+order/all</code></p>

<p><strong>Request Parameters</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Value Range</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>String</td>
<td>No</td>
<td>Valid symbol supported by exchange</td>
<td>If provided, only cancel all orders on this symbol; otherwise, cancel all open orders under this account.</td>
</tr>
</tbody></table>

<p><strong>Response</strong></p>

<p>Response include <code>code</code> and <code>data</code>, and status <code>Ack</code> (in field <code>data</code>) to indicate cancel all order request is received by server.</p>

<p><code>data</code> schema:</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>ac</code></td>
<td><code>String</code></td>
<td><code>CASH</code>, <code>MARGIN</code></td>
</tr>
<tr>
<td><code>accountId</code></td>
<td><code>String</code></td>
<td>account Id</td>
</tr>
<tr>
<td><code>action</code></td>
<td><code>String</code></td>
<td><code>cancel-all</code>,</td>
</tr>
<tr>
<td><code>info</code></td>
<td><code>Json</code></td>
<td>See below for detail</td>
</tr>
</tbody></table>

<p><code>info</code> schema:</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code></td>
<td><code>String</code></td>
<td>echo back the <code>id</code> in request</td>
</tr>
<tr>
<td><code>orderId</code></td>
<td><code>String</code></td>
<td>empty</td>
</tr>
<tr>
<td><code>orderType</code></td>
<td><code>String</code></td>
<td>empty</td>
</tr>
<tr>
<td><code>symbol</code></td>
<td><code>String</code></td>
<td><code>symbol</code> in request</td>
</tr>
<tr>
<td><code>timestamp</code></td>
<td><code>Long</code></td>
<td>server received timestamp</td>
</tr>
</tbody></table>

<p><strong>Code Sample</strong></p>

<p>Refer to sample python code to <a href="https://github.com/bitmax-exchange/bitmax-pro-api-demo/blob/master/python/cancel_order.py">cancel all order</a></p>
<h4 id='caveat'>Caveat</h4>
<p>The server will process the cancel all request with best effort. Orders sent but un-acked will not be canceled. You should rely on websocket order update messages or the RESTful api 
to obtain the latest status of each order. </p>
<h3 id='place-batch-orders'>Place Batch Orders</h3>
<blockquote>
<p>Place Batch Orders - Successful ACK Response (Status 200, code 0)</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"ac"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CASH"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cshQtyfq8XLAA9kcf19h8bXHbAwwoqDo"</span><span class="p">,</span><span class="w">        
        </span><span class="s2">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"batch-place-order"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"info"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"id"</span><span class="p">:</span><span class="w">        </span><span class="s2">"0r9LFylwSF3Pj6vOQC4j33Nv2pQnuFD9"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"orderId"</span><span class="p">:</span><span class="w">   </span><span class="s2">"16e80b75cbda8bXHbAwwoqDoa5be7384"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Limit"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w">    </span><span class="s2">"BTC/USDT"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w">  </span><span class="mi">1573596819185</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"id"</span><span class="p">:</span><span class="w">        </span><span class="s2">"mYnbq6xcTLdAs9qzq1tY57lUZ1iWWIac"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"orderId"</span><span class="p">:</span><span class="w">   </span><span class="s2">"16e61adeee5a8bXHbAwwoqDo100e364e"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Limit"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w">    </span><span class="s2">"BTC/USDT"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w">  </span><span class="mi">1573596819185</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ack"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Place Batch Orders - Error Response (Status 200, code 0)</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"ac"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CASH"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cshQtyfq8XLAA9kcf19h8bXHbAwwoqDo"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"batch-place-order"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">300013</span><span class="p">,</span><span class="w">
    </span><span class="s2">"info"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">300004</span><span class="p">,</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nGFdep927xsqSaL2B4R3jDSm1IGwcfmr"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Notional is too small."</span><span class="p">,</span><span class="w">
            </span><span class="s2">"reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INVALID_NOTIONAL"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC/USDT"</span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">300013</span><span class="p">,</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PGEcSVsoQWythsYTs2hWfogLoRs6hhi8"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Some invalid order in this batch."</span><span class="p">,</span><span class="w">
            </span><span class="s2">"reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INVALID_BATCH_ORDER"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH/USDT"</span><span class="p">}],</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Batch Order failed, please check each order info for detail."</span><span class="p">,</span><span class="w">
    </span><span class="s2">"reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INVALID_BATCH_ORDER"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Err"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Place multiple orders in a batch. If some order in the batch failed our basic check, then the whole batch request fail.</p>

<p>You may submit up to 10 orders at a time. Server will respond with error if you submit more than 10 orders.</p>

<p><strong>HTTP Request</strong></p>

<p><code>POST &lt;account-group&gt;/api/pro/v1/{account-category}/order/batch</code></p>

<p>Set <code>account-category</code> to<code>cash</code> for cash account and <code>margin</code> for margin account.</p>

<p><strong>Signature</strong></p>

<p>You should sign the message in header as specified in <a href="#sign-request"><strong>Authenticate a RESTful Request</strong></a> section.</p>

<p><strong>Prehash String</strong></p>

<p><code>&lt;timestamp&gt;+order/batch</code></p>

<p><strong>Response</strong></p>

<p><em>ACK</em></p>

<p>0 for <code>code</code> and status <code>Ack</code> to indicate the batch order request is accepted by server. Field &quot;info&quot; includes server generated &quot;coid&quot; for each order in the batch request, and this is the id you should use for future status query.</p>

<p><code>data</code> schema:</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>ac</code></td>
<td><code>String</code></td>
<td><code>CASH</code>, <code>MARGIN</code></td>
</tr>
<tr>
<td><code>accountId</code></td>
<td><code>String</code></td>
<td>account Id</td>
</tr>
<tr>
<td><code>action</code></td>
<td><code>String</code></td>
<td><code>cancel-all</code></td>
</tr>
<tr>
<td><code>status</code></td>
<td><code>String</code></td>
<td><code>Ack</code></td>
</tr>
<tr>
<td><code>info</code></td>
<td><code>List</code></td>
<td>See below for detail</td>
</tr>
</tbody></table>

<p><code>info</code> schema:</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code></td>
<td><code>String</code></td>
<td>echo back the <code>id</code> in request</td>
</tr>
<tr>
<td><code>orderId</code></td>
<td><code>String</code></td>
<td>server assigned order Id for this single order</td>
</tr>
<tr>
<td><code>orderType</code></td>
<td><code>String</code></td>
<td>order type</td>
</tr>
<tr>
<td><code>symbol</code></td>
<td><code>String</code></td>
<td><code>symbol</code> in request</td>
</tr>
<tr>
<td><code>timestamp</code></td>
<td><code>Long</code></td>
<td>server received timestamp</td>
</tr>
</tbody></table>

<p><em>ERR</em></p>

<p>Non 0 <code>code</code> and status <code>ERR</code> to indicate the batch order request is accepted by server. Field <code>info</code> includes detailed order information to explain why the batch request fail for each individual order. &quot;coid&quot; is original order id provided by user for each order.</p>

<p>Error schema</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>code</code></td>
<td><code>Long</code></td>
<td>0</td>
</tr>
<tr>
<td><code>ac</code></td>
<td><code>String</code></td>
<td><code>CASH</code>, <code>MARGIN</code></td>
</tr>
<tr>
<td><code>accountId</code></td>
<td><code>String</code></td>
<td>account Id</td>
</tr>
<tr>
<td><code>action</code></td>
<td><code>String</code></td>
<td><code>batch-cancel-order</code></td>
</tr>
<tr>
<td><code>message</code></td>
<td><code>String</code></td>
<td>error message detail</td>
</tr>
<tr>
<td><code>reason</code></td>
<td><code>String</code></td>
<td>short error message</td>
</tr>
<tr>
<td><code>status</code></td>
<td><code>String</code></td>
<td><code>Err</code></td>
</tr>
<tr>
<td><code>info</code></td>
<td><code>List</code></td>
<td>See below for detail</td>
</tr>
</tbody></table>

<p><code>info</code> schema:</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>code</code></td>
<td><code>Long</code></td>
<td>0</td>
</tr>
<tr>
<td><code>id</code></td>
<td><code>String</code></td>
<td>echo <code>id</code> in request</td>
</tr>
<tr>
<td><code>orderId</code></td>
<td><code>String</code></td>
<td>empty</td>
</tr>
<tr>
<td><code>message</code></td>
<td><code>String</code></td>
<td>error message detail</td>
</tr>
<tr>
<td><code>reason</code></td>
<td><code>String</code></td>
<td>short error message</td>
</tr>
<tr>
<td><code>symbol</code></td>
<td><code>String</code></td>
<td>symbol in order</td>
</tr>
</tbody></table>

<p><strong>Code Sample</strong></p>

<p>Please refer to python code to <a href="https://github.com/bitmax-exchange/bitmax-pro-api-demo/blob/master/python/place_order.py">place batch order</a></p>
<h3 id='cancel-batch-orders'>Cancel Batch Orders</h3>
<blockquote>
<p>Cancel Batch Orders - Successful ACK Response (Status 200, code 0)</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"ac"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CASH"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cshQtyfq8XLAA9kcf19h8bXHbAwwoqDo"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"batch-cancel-order"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ack"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"info"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"id"</span><span class="p">:</span><span class="w">        </span><span class="s2">"0a8bXHbAwwoqDo3b485d7ea0b09c2cd8"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"orderId"</span><span class="p">:</span><span class="w">   </span><span class="s2">"16e61d5ff43s8bXHbAwwoqDo9d817339"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NULL_VAL"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w">    </span><span class="s2">"BTC/USDT"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w">  </span><span class="mi">1573619097746</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"id"</span><span class="p">:</span><span class="w">        </span><span class="s2">"0a8bXHbAwwoqDo7d303e2edf6c26d1be"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"orderId"</span><span class="p">:</span><span class="w">   </span><span class="s2">"16e61adeee5a8bXHbAwwoqDo100e364e"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NULL_VAL"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w">    </span><span class="s2">"ETH/USDT"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w">  </span><span class="mi">1573619098342</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Cancel Batch Orders - Error Response (Status 200, code 0)</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">300013</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ac"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CASH"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cshQtyfq8XLAA9kcf19h8bXHbAwwoqDo"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"batch-place-order"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Batch Order failed, please check each order info for detail."</span><span class="p">,</span><span class="w">
    </span><span class="s2">"reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INVALID_BATCH_ORDER"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Err"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"info"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"code"</span><span class="p">:</span><span class="w">     </span><span class="mi">300006</span><span class="p">,</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w">      </span><span class="s2">"NUty15oXcNt9JAngZ1D6q6jY15LOpKPC"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16e61d5ff43s8bXHbAwwoqDo9d817339"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The order is already filled or canceled."</span><span class="p">,</span><span class="w">
            </span><span class="s2">"reason"</span><span class="p">:</span><span class="w">  </span><span class="s2">"INVALID_ORDER_ID"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w">   </span><span class="s2">""</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"code"</span><span class="p">:</span><span class="w">     </span><span class="mi">300006</span><span class="p">,</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w">      </span><span class="s2">"mpoL0q8cheL8PL2UstJFRzp6yuPk1sGc"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16e61adeee5a8bXHbAwwoqDo100e364e"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The order is already filled or canceled."</span><span class="p">,</span><span class="w">
            </span><span class="s2">"reason"</span><span class="p">:</span><span class="w">  </span><span class="s2">"INVALID_ORDER_ID"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w">   </span><span class="s2">""</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Cancel multiple orders in a batch. If some order in the batch failed our basic check, then the whole batch request failed.</p>

<p><strong>HTTP Request</strong></p>

<p><code>DELETE &lt;account-group&gt;/api/pro/v1/{account-category}/order/batch</code></p>

<p>Set <code>account-category</code> to<code>cash</code> for cash account and <code>margin</code> for margin account. </p>

<p><strong>Signature</strong></p>

<p>You should sign the message in header as specified in <a href="#sign-request"><strong>Authenticate a RESTful Request</strong></a> section.</p>

<p><strong>Prehash String</strong></p>

<p><code>&lt;timestamp&gt;+order/batch</code></p>

<p><strong>Response</strong></p>

<p><em>ACK</em></p>

<p>Response with <code>code</code> as 0 to indicate batch is successfuly received by server and pass some basic check. <code>data</code> field explains order ack detail. 
Order detail for each order is in <code>info</code> field list.</p>

<p><code>data</code> schema:</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>ac</code></td>
<td><code>String</code></td>
<td><code>CASH</code>, <code>MARGIN</code></td>
</tr>
<tr>
<td><code>accountId</code></td>
<td><code>String</code></td>
<td>account Id</td>
</tr>
<tr>
<td><code>action</code></td>
<td><code>String</code></td>
<td><code>cancel-all</code></td>
</tr>
<tr>
<td><code>status</code></td>
<td><code>String</code></td>
<td><code>Ack</code></td>
</tr>
<tr>
<td><code>info</code></td>
<td><code>List</code></td>
<td>See below for detail</td>
</tr>
</tbody></table>

<p><code>info</code> schema:</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code></td>
<td><code>String</code></td>
<td>echo back the <code>id</code> in request</td>
</tr>
<tr>
<td><code>orderId</code></td>
<td><code>String</code></td>
<td>orderId in request to cancel</td>
</tr>
<tr>
<td><code>orderType</code></td>
<td><code>String</code></td>
<td>empty</td>
</tr>
<tr>
<td><code>symbol</code></td>
<td><code>String</code></td>
<td><code>symbol</code> in request</td>
</tr>
<tr>
<td><code>timestamp</code></td>
<td><code>Long</code></td>
<td>server received timestamp</td>
</tr>
</tbody></table>

<p><em>ERR</em> </p>

<p>Response with non 0 <code>code</code> and status &quot;Err&quot; to explain detailed failure reason for each order in the batch request. Error detail for each order is in <code>info</code> field.</p>

<p>Error schema</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>code</code></td>
<td><code>Long</code></td>
<td>0</td>
</tr>
<tr>
<td><code>ac</code></td>
<td><code>String</code></td>
<td><code>CASH</code>, <code>MARGIN</code></td>
</tr>
<tr>
<td><code>accountId</code></td>
<td><code>String</code></td>
<td>account Id</td>
</tr>
<tr>
<td><code>action</code></td>
<td><code>String</code></td>
<td><code>batch-cancel-order</code></td>
</tr>
<tr>
<td><code>message</code></td>
<td><code>String</code></td>
<td>error message detail</td>
</tr>
<tr>
<td><code>reason</code></td>
<td><code>String</code></td>
<td>short error message</td>
</tr>
<tr>
<td><code>status</code></td>
<td><code>String</code></td>
<td><code>Err</code></td>
</tr>
<tr>
<td><code>info</code></td>
<td><code>List</code></td>
<td>See below for detail</td>
</tr>
</tbody></table>

<p><code>info</code> schema:</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>code</code></td>
<td><code>Long</code></td>
<td>0</td>
</tr>
<tr>
<td><code>id</code></td>
<td><code>String</code></td>
<td>echo <code>id</code> in request</td>
</tr>
<tr>
<td><code>orderId</code></td>
<td><code>String</code></td>
<td>orderId in request to cancel</td>
</tr>
<tr>
<td><code>message</code></td>
<td><code>String</code></td>
<td>error message detail</td>
</tr>
<tr>
<td><code>reason</code></td>
<td><code>String</code></td>
<td>short error message</td>
</tr>
<tr>
<td><code>symbol</code></td>
<td><code>String</code></td>
<td>symbol in order</td>
</tr>
</tbody></table>

<p><strong>Code Sample</strong></p>

<p>please refer to python code to <a href="https://github.com/bitmax-exchange/bitmax-pro-api-demo/blob/master/python/cancel_order.py">cancel batch order</a></p>
<h3 id='query-order'>Query Order</h3>
<blockquote>
<p>Query Order - Successful Response (Status 200, code 0)</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"accountCategory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CASH"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cshQtyfq8XLAA9kcf19h8bXHbAwwoqDo"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"avgPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7391.13"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"cumFee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.005151618"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"cumFilledQty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00082"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"errorCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"feeAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"lastExecTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1575953134011</span><span class="p">,</span><span class="w">
            </span><span class="s2">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a16eee206d610866943712rPNknIyhH"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"orderQty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00082"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Market"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8130.24"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"seqNum"</span><span class="p">:</span><span class="w"> </span><span class="mi">2622058</span><span class="p">,</span><span class="w">
            </span><span class="s2">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Buy"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Filled"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"stopPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC/USDT"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"avgPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7392.02"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"cumFee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.005152238"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"cumFilledQty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00082"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"errorCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"feeAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"lastExecTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1575953151764</span><span class="p">,</span><span class="w">
            </span><span class="s2">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a16eee20b6750866943712zWEDdAjt3"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"orderQty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00082"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Market"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8131.22"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"seqNum"</span><span class="p">:</span><span class="w"> </span><span class="mi">2623469</span><span class="p">,</span><span class="w">
            </span><span class="s2">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Buy"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Filled"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"stopPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC/USDT"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Query order status, either open or history order. //TODO: not all order, specify order range later.</p>

<p><strong>HTTP Request</strong></p>

<p><code>GET &lt;account-group&gt;/api/pro/v1/{account-category}/order/status?OrderId={orderId}</code></p>

<p><code>orderId</code> could be a single order Id, or multiple order Ids separated by <code>,</code>. </p>

<p>Set <code>account-category</code> to<code>cash</code> for cash account and <code>margin</code> for margin account. </p>

<p><strong>Signature</strong></p>

<p>You should sign the message in header as specified in <a href="#sign-request"><strong>Authenticate a RESTful Request</strong></a> section.</p>

<p><strong>Prehash String</strong></p>

<p><code>&lt;timestamp&gt;+order/status</code></p>

<p><strong><em>Response</em></strong></p>

<p>Returns a list order information in <code>data</code> field. Please use <code>orderId</code> field to match with your order.</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>avgPx</code></td>
<td><code>String</code></td>
<td>average fill price</td>
</tr>
<tr>
<td><code>cumFee</code></td>
<td><code>String</code></td>
<td>cumulated filled comission</td>
</tr>
<tr>
<td><code>cumFilledQty</code></td>
<td><code>String</code></td>
<td>cumulated filled qty</td>
</tr>
<tr>
<td><code>errorCode</code></td>
<td><code>String</code></td>
<td>Could be empty</td>
</tr>
<tr>
<td><code>feeAsset</code></td>
<td><code>String</code></td>
<td>Fee asset, e.g, <code>USDT</code></td>
</tr>
<tr>
<td><code>lastExecTime</code></td>
<td><code>String</code></td>
<td>latest execution timestamp</td>
</tr>
<tr>
<td><code>orderId</code></td>
<td><code>String</code></td>
<td>order id</td>
</tr>
<tr>
<td><code>orderQty</code></td>
<td><code>String</code></td>
<td>order quantity</td>
</tr>
<tr>
<td><code>orderType</code></td>
<td><code>String</code></td>
<td>order type</td>
</tr>
<tr>
<td><code>price</code></td>
<td><code>String</code></td>
<td>order price</td>
</tr>
<tr>
<td><code>seqNum</code></td>
<td><code>Long</code></td>
<td>sequence number</td>
</tr>
<tr>
<td><code>side</code></td>
<td><code>String</code></td>
<td>order side</td>
</tr>
<tr>
<td><code>status</code></td>
<td><code>String</code></td>
<td>order status</td>
</tr>
<tr>
<td><code>stopPrice</code></td>
<td><code>String</code></td>
<td>stop price(could be empty)</td>
</tr>
<tr>
<td><code>symbol</code></td>
<td><code>String</code></td>
<td>symbol</td>
</tr>
</tbody></table>

<p><strong>Code Sample</strong></p>

<p>Please refer to python code to <a href="https://github.com/bitmax-exchange/bitmax-pro-api-demo/blob/master/python/query_order.py">get order status</a></p>
<h3 id='list-open-orders'>List Open Orders</h3>
<blockquote>
<p>Open Orders - Successful Response (Status 200, code 0)</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="s2">"accountCategory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CASH"</span><span class="p">,</span><span class="w">
 </span><span class="s2">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cshQtyfq8XLAA9kcf19h8bXHbAwwoqDo"</span><span class="p">,</span><span class="w">
 </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
 </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
   </span><span class="p">{</span><span class="w">
     </span><span class="s2">"avgPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">Average</span><span class="w"> </span><span class="err">filled</span><span class="w"> </span><span class="err">price</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">order</span><span class="w">   
      </span><span class="s2">"cumFee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">cumulative</span><span class="w"> </span><span class="err">fee</span><span class="w"> </span><span class="err">paid</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">this</span><span class="w"> </span><span class="err">order</span><span class="w">
      </span><span class="s2">"cumFilledQty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">cumulative</span><span class="w"> </span><span class="err">filled</span><span class="w"> </span><span class="err">quantity</span><span class="w">
      </span><span class="s2">"errorCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">error</span><span class="w"> </span><span class="err">code;</span><span class="w"> </span><span class="err">could</span><span class="w"> </span><span class="err">be</span><span class="w"> </span><span class="err">empty</span><span class="w">
      </span><span class="s2">"feeAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">fee</span><span class="w"> </span><span class="err">asset</span><span class="w">
      </span><span class="s2">"lastExecTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1576019723550</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w">  </span><span class="err">The</span><span class="w"> </span><span class="err">last</span><span class="w"> </span><span class="err">execution</span><span class="w"> </span><span class="err">time</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">order</span><span class="w">
      </span><span class="s2">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"s16ef21882ea0866943712034f36d83"</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">server</span><span class="w"> </span><span class="err">provided</span><span class="w"> </span><span class="err">orderId</span><span class="w">
      </span><span class="s2">"orderQty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0083"</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">order</span><span class="w"> </span><span class="err">quantity</span><span class="w">
      </span><span class="s2">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Limit"</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">order</span><span class="w"> </span><span class="err">type</span><span class="w">
      </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7105"</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">order</span><span class="w"> </span><span class="err">price</span><span class="w">
      </span><span class="s2">"seqNum"</span><span class="p">:</span><span class="w"> </span><span class="mi">8193258</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">sequence</span><span class="w"> </span><span class="err">number</span><span class="w">
      </span><span class="s2">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Buy"</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">order</span><span class="w"> </span><span class="err">side</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"New"</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">order</span><span class="w"> </span><span class="err">status</span><span class="w"> </span><span class="err">on</span><span class="w"> </span><span class="err">matching</span><span class="w"> </span><span class="err">engine</span><span class="w">
      </span><span class="s2">"stopPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">only</span><span class="w"> </span><span class="err">available</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">stop</span><span class="w"> </span><span class="err">market</span><span class="w"> </span><span class="err">and</span><span class="w"> </span><span class="err">stop</span><span class="w"> </span><span class="err">limit</span><span class="w"> </span><span class="err">orders;</span><span class="w"> </span><span class="err">otherwise</span><span class="w"> </span><span class="err">empty</span><span class="w"> 
      </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC/USDT"</span><span class="p">},</span><span class="w">
      </span><span class="err">...</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This API returns all current open orders for the account specified. </p>

<p><strong>HTTP Request</strong></p>

<p><code>GET &lt;account-group&gt;/api/pro/v1/{account-category}/order/open</code></p>

<p>Set <code>account-category</code> to<code>cash</code> for cash account and <code>margin</code> for margin account. </p>

<p><strong>Signature</strong></p>

<p>You should sign the message in header as specified in <a href="#sign-request"><strong>Authenticate a RESTful Request</strong></a> section.</p>

<p><strong>Prehash String</strong></p>

<p><code>&lt;timestamp&gt;+order/open</code></p>

<p><strong>Response</strong></p>

<p>Return a list of order infomation in <code>data</code> field:</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>avgPx</code></td>
<td><code>String</code></td>
<td>average fill price</td>
</tr>
<tr>
<td><code>cumFee</code></td>
<td><code>String</code></td>
<td>cumulated filled comission</td>
</tr>
<tr>
<td><code>cumFilledQty</code></td>
<td><code>String</code></td>
<td>cumulated filled qty</td>
</tr>
<tr>
<td><code>errorCode</code></td>
<td><code>String</code></td>
<td>Could be empty</td>
</tr>
<tr>
<td><code>feeAsset</code></td>
<td><code>String</code></td>
<td>Fee asset, e.g, <code>USDT</code></td>
</tr>
<tr>
<td><code>lastExecTime</code></td>
<td><code>String</code></td>
<td>latest execution timestamp</td>
</tr>
<tr>
<td><code>orderId</code></td>
<td><code>String</code></td>
<td>order id</td>
</tr>
<tr>
<td><code>orderQty</code></td>
<td><code>String</code></td>
<td>order quantity</td>
</tr>
<tr>
<td><code>orderType</code></td>
<td><code>String</code></td>
<td>order type</td>
</tr>
<tr>
<td><code>price</code></td>
<td><code>String</code></td>
<td>order price</td>
</tr>
<tr>
<td><code>seqNum</code></td>
<td><code>Long</code></td>
<td>sequence number</td>
</tr>
<tr>
<td><code>side</code></td>
<td><code>String</code></td>
<td>order side</td>
</tr>
<tr>
<td><code>status</code></td>
<td><code>String</code></td>
<td>order status</td>
</tr>
<tr>
<td><code>stopPrice</code></td>
<td><code>String</code></td>
<td>stop price(could be empty)</td>
</tr>
<tr>
<td><code>symbol</code></td>
<td><code>String</code></td>
<td>symbol</td>
</tr>
</tbody></table>

<p>Error Response Messages</p>

<table><thead>
<tr>
<th>HTTP Status Code</th>
<th>Error Code</th>
<th>Reason</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>xxx</td>
<td>Parameter Error</td>
<td><code>{&quot;code&quot;: xxx, &quot;message&quot;: &quot;missing requird parameter \&quot;account\&quot;} &quot;}</code>  @TODO</td>
</tr>
</tbody></table>

<p><strong>Code Sample</strong></p>

<p>Please refer to python code to <a href="https://github.com/bitmax-exchange/bitmax-pro-api-demo/blob/master/python/query_order.py">get open orders</a></p>

<p>Change from the previous version:</p>

<ul>
<li><code>execId</code>, <code>btmxCommission</code>, <code>notional</code> are no longer included in the response. </li>
<li><code>errorCode</code> is no longer included in the open order response. It is still included in the historical order query response.</li>
</ul>
<h3 id='list-current-history-orders'>List Current History Orders</h3>
<blockquote>
<p>Current History Orders - Successful Response (Status 200, code 0)</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"ac"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CASH"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cshQtyfq8XLAA9kcf19h8bXHbAwwoqDo"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"avgPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7243.34"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"cumFee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.051101764"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"cumFilledQty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0083"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"errorCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"feeAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"lastExecTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1576019215402</span><span class="p">,</span><span class="w">
            </span><span class="s2">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"s16ef210b1a50866943712bfaf1584b"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"orderQty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0083"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Market"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7967.62"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"seqNum"</span><span class="p">:</span><span class="w"> </span><span class="mi">8159713</span><span class="p">,</span><span class="w">
            </span><span class="s2">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Buy"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Filled"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"stopPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC/USDT"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="err">...</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This API returns all current history orders for the account specified. //TODO: not all history, specify order range later.</p>

<p><strong>HTTP Request</strong></p>

<p><code>GET &lt;account-group&gt;/api/pro/v1/{account-category}/order/hist/current</code></p>

<p>Set <code>account-category</code> to<code>cash</code> for cash account and <code>margin</code> for margin account. </p>

<p><strong>Signature</strong></p>

<p>You should sign the message in header as specified in <a href="#sign-request"><strong>Authenticate a RESTful Request</strong></a> section.</p>

<p><strong>Prehash String</strong></p>

<p><code>&lt;timestamp&gt;+order/hist/current</code></p>

<p><strong>Response</strong></p>

<p>Return a list of history orders in <em>&quot;data&quot;</em> field.</p>

<p><strong>Code Sample</strong></p>

<p>Please refer to python code to <a href="https://github.com/bitmax-exchange/bitmax-pro-api-demo/blob/master/python/query_order.py">get hist orders</a></p>
<h1 id='websocket'>WebSocket</h1>
<p><strong>General Message Request/Handling Logic from Client Side</strong></p>

<ul>
<li>Client usually initiate request with <code>op</code> parameter (followed by other required parameters).</li>
<li>Server usually reply message with <code>m</code> value to indicate message topic, e.g., <code>order</code>, <code>depth</code>, <code>auth</code>.</li>
<li>Private data response usually has <code>accountId</code> field, such as <code>order</code>, <code>balance</code>; public data response usually contains <code>symbol</code> field.</li>
<li>Uniquie <code>id</code> parameter is recommended for your request. We will echo it back for you to track the requests. (The only exception is <code>depth-snapshot</code>, we do not include <code>id</code>)</li>
</ul>

<p><strong>WebSocket Request</strong></p>

<p><code>WSS &lt;account-group&gt;/api/pro/v1/stream</code></p>

<p>In order to authorize the session you must include <code>&lt;account-group&gt;</code> in the URL. Without <code>&lt;account-group&gt;</code>, you can 
only subscribe to public data. </p>

<p><strong>Code Sample</strong> </p>

<p>Please refer to python code for all kinds of [websocket operation]{https://github.com/bitmax-exchange/bitmax-pro-api-demo/blob/master/python/client.py} (e.g. authorization, sub/unsub, place/cancel order, and so on) </p>
<h2 id='keep-the-connection-alive-via-ping-pong'>Keep the Connection Alive via Ping/Pong</h2>
<p>In order to keep the websocket connection alive, you have two options, detailed below.</p>
<h4 id='method-1-responding-to-server-ping-messages'>Method 1: Responding to Server ping messages</h4>
<blockquote>
<p>Method 1. keep the connection alive by responding to Server pushed ping message </p>
</blockquote>
<pre class="highlight plaintext"><code>&lt;&lt;&lt; { "m": "ping", "hp": 3 }  # Server pushed ping message
&gt;&gt;&gt; { "op": "pong" }   # Client responds with pong
</code></pre>
<p>If the server doesn&#39;t receive any client message after a while, it will send a <code>ping</code> message to the client. Once the <code>ping</code> message is received,
the client should promptly send a <code>pong</code> message to the server. If you missed two consecutive <code>ping</code> messages, the session will be disconnected. </p>

<p><strong>Server Ping Message Schema</strong> </p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>op</code></td>
<td><code>String</code></td>
<td><code>ping</code></td>
</tr>
<tr>
<td><code>hp</code></td>
<td><code>Int</code></td>
<td>health point: when this value decreases to 0, the session will be disconnected.</td>
</tr>
</tbody></table>
<h4 id='method-2-sending-ping-messages-to-server'>Method 2: Sending ping messages to Server</h4>
<blockquote>
<p>Method 2. keep the connection alive by sending ping message to the server</p>
</blockquote>
<pre class="highlight plaintext"><code>&gt;&gt;&gt; { "op": "ping" }                                      # Client initiated ping message (every 30 seconds)
&lt;&lt;&lt; { "m":"pong", "code":0, "ts":1574260701259, "hp": 2 } # Server responds to client ping 
</code></pre>
<p>You can also send <code>ping</code> message to the server every 15 seconds to keep the connection alive. The server will stop sending <code>ping</code> message 
for 30 seconds if a client initiated <code>ping</code> message is received. </p>

<p><strong>Server Pong Message Schema</strong> </p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>m</code></td>
<td><code>String</code></td>
<td><code>pong</code></td>
</tr>
<tr>
<td><code>code</code></td>
<td><code>Int</code></td>
<td>error code, for the pong mesage, the error code is always 0 (success)</td>
</tr>
<tr>
<td><code>ts</code></td>
<td><code>Long</code></td>
<td>server time in UTC miliseconds</td>
</tr>
<tr>
<td><code>hp</code></td>
<td><code>Int</code></td>
<td>health point: when this value decreases to 0, the session will be disconnected.</td>
</tr>
</tbody></table>
<h2 id='websocket-authentication'>WebSocket Authentication</h2>
<p>You must authenticate the websocket session in order to recieve private data and send account specific requests 
(e.g. placing new orders). </p>

<p>You have two options to authenticate a websocket session. </p>

<ul>
<li>by adding authentication data in the request header when connecting to websocket. </li>
<li>by sending an <code>op:auth</code> message to the server after you have connected to websocket. </li>
</ul>

<p>Once you successfully connect to the websocket, you will receive a <code>connected</code> message: </p>

<ul>
<li>for authenticated websocket session: <code>{&quot;op&quot;:&quot;connected&quot;,&quot;type&quot;:&quot;auth&quot;}</code></li>
<li>for unauthenticated websocket session: <code>{&quot;op&quot;:&quot;connected&quot;,&quot;type&quot;:&quot;unauth&quot;}</code></li>
</ul>

<p>If the session is disconnected for some reason, you will receive a <code>disconnected</code> message:</p>

<ul>
<li><code>{&quot;m&quot;:&quot;disconnected&quot;,&quot;code&quot;:100005,&quot;reason&quot;:&quot;INVALID_WS_REQUEST_DATA&quot;,&quot;info&quot;:&quot;Session is disconnected due to missing pong message from the client&quot;}</code></li>
</ul>
<h3 id='method-1-websocket-authentication-with-request-headers'>Method 1 - WebSocket Authentication with Request Headers</h3>
<blockquote>
<p>Authenticate with Headers</p>
</blockquote>
<pre class="highlight shell"><code><span class="c"># # Install wscat from Node.js if you haven't</span>
<span class="c"># npm install -g wscat  </span>

<span class="nv">APIPATH</span><span class="o">=</span>stream
<span class="nv">APIKEY</span><span class="o">=</span>BclE7dBGbS1AP3VnOuq6s8fJH0fWbH7r
<span class="nv">SECRET</span><span class="o">=</span>fAZcQRUMxj3eX3DreIjFcPiJ9UR3ZTdgIw8mxddvtcDxLoXvdbXJuFQYadUUsF7q
<span class="nv">TIMESTAMP</span><span class="o">=</span><span class="sb">`</span>date +%s%N | cut -c -13<span class="sb">`</span>
<span class="nv">MESSAGE</span><span class="o">=</span><span class="nv">$TIMESTAMP</span>+<span class="nv">$APIPATH</span>
<span class="nv">SIGNATURE</span><span class="o">=</span><span class="sb">`</span><span class="nb">echo</span> -n <span class="nv">$MESSAGE</span> | openssl dgst -sha256 -hmac <span class="nv">$SECRET</span> -binary | base64<span class="sb">`</span>

wscat -H <span class="s2">"x-auth-key: </span><span class="nv">$APIKEY</span><span class="s2">"</span> <span class="se">\</span>
  -H <span class="s2">"x-auth-signature: </span><span class="nv">$SIGNATURE</span><span class="s2">"</span> <span class="se">\</span>
  -H <span class="s2">"x-auth-timestamp: </span><span class="nv">$TIMESTAMP</span><span class="s2">"</span> <span class="se">\</span>
  -c wss://bitmax.io/1/api/v1/t/stream -w 1 -x <span class="s1">'{"op":"sub", "id": "abc123", "ch": "order:cshQtyfq8XLAA9kcf19h8bXHbAwwoqDo:BTMX/USDT"}'</span>
</code></pre>
<p>This is similar to the way you authenticate any RESTful request. You need to add the following header fields to the 
connection request:</p>

<ul>
<li><code>x-auth-key</code></li>
<li><code>x-auth-timestamp</code></li>
<li><code>x-auth-signature</code></li>
</ul>

<p>The server will then check if the data is correctly signed before upgrading the connection protocol to WebSocket. </p>

<p>Note that if you specify these header fields, the server will reject the websocket connection request if authentication fails. </p>
<h3 id='method-2-websocket-authentication-by-sending-the-auth-message'>Method 2 - WebSocket Authentication by Sending the Auth Message</h3>
<blockquote>
<p>Authenticate by Sending the <code>auth</code> Message</p>
</blockquote>
<pre class="highlight shell"><code><span class="c"># # Install wscat from Node.js if you haven't</span>
<span class="c"># npm install -g wscat  </span>

<span class="nv">APIPATH</span><span class="o">=</span>stream
<span class="nv">APIKEY</span><span class="o">=</span>BclE7dBGbS1AP3VnOuq6s8fJH0fWbH7r
<span class="nv">SECRET</span><span class="o">=</span>fAZcQRUMxj3eX3DreIjFcPiJ9UR3ZTdgIw8mxddvtcDxLoXvdbXJuFQYadUUsF7q
<span class="nv">TIMESTAMP</span><span class="o">=</span><span class="sb">`</span>date +%s%N | cut -c -13<span class="sb">`</span>
<span class="nv">MESSAGE</span><span class="o">=</span><span class="nv">$TIMESTAMP</span>+<span class="nv">$APIPATH</span>
<span class="nv">SIGNATURE</span><span class="o">=</span><span class="sb">`</span><span class="nb">echo</span> -n <span class="nv">$MESSAGE</span> | openssl dgst -sha256 -hmac <span class="nv">$SECRET</span> -binary | base64<span class="sb">`</span>

wscat -c wss://bitmax.io/1/api/pro/stream -w 1 -x <span class="s2">"{</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">auth</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">id</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">abc123</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">t</span><span class="se">\"</span><span class="s2">: </span><span class="nv">$TIMESTAMP</span><span class="s2">, "</span>key<span class="s2">": </span><span class="se">\"</span><span class="nv">$APIKEY</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">sig</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="nv">$SIGNATURE</span><span class="se">\"</span><span class="s2">}"</span>
</code></pre>
<p>You can also authenticate a live websocket session by sending an <code>op:auth</code> message to the server. </p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>op</code></td>
<td><code>String</code></td>
<td>Yes</td>
<td><code>&quot;auth&quot;</code></td>
</tr>
<tr>
<td><code>id</code></td>
<td><code>String</code></td>
<td>No</td>
<td>optional id field, you may safely skip it</td>
</tr>
<tr>
<td><code>t</code></td>
<td><code>Long</code></td>
<td>Yes</td>
<td>UTC timestamp in milliseconds, use this timestamp to generate signature</td>
</tr>
<tr>
<td><code>key</code></td>
<td><code>String</code></td>
<td>Yes</td>
<td>your api key</td>
</tr>
<tr>
<td><code>sig</code></td>
<td><code>String</code></td>
<td>Yes</td>
<td>the signature is generated by signing <code>&quot;&lt;timestamp&gt;+stream&quot;</code></td>
</tr>
</tbody></table>

<p>More comprehensive examples can be found at:</p>

<ul>
<li>Python for <a href="https://github.com/bitmax-exchange/bitmax-pro-api-demo/blob/master/python/websocket_auth.py">websocket auth</a></li>
</ul>
<h3 id='authentication-response'>Authentication Response</h3>
<blockquote>
<p>Auth success message</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">  
  </span><span class="s2">"m"</span><span class="p">:</span><span class="w"> </span><span class="s2">"auth"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abc123"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Auth error message</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"m"</span><span class="p">:</span><span class="s2">"auth"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abc123"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200006</span><span class="p">,</span><span class="w">
  </span><span class="s2">"err"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Unable to find User Account Data"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>You will receive a message for authentication result after you send authentication request.</p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>m</code></td>
<td><code>String</code></td>
<td><code>&quot;auth&quot;</code></td>
</tr>
<tr>
<td><code>id</code></td>
<td><code>String</code></td>
<td>echo back the id if you provide one in the request</td>
</tr>
<tr>
<td><code>code</code></td>
<td><code>Long</code></td>
<td>Any code other than 0 indicate an error in authentication</td>
</tr>
<tr>
<td><code>err</code></td>
<td><code>Optional[String]</code></td>
<td>Provide detailed error message if code is not 0</td>
</tr>
</tbody></table>
<h2 id='subscribe-to-data-channels'>Subscribe to Data Channels</h2><h3 id='how-to-subscribe'>How to Subscribe</h3>
<blockquote>
<p>Use <code>wscat</code> from Node.js to connect to websocket data.</p>
</blockquote>
<pre class="highlight shell"><code><span class="c"># # Install wscat from Node.js if you haven't</span>
<span class="c"># npm install -g wscat  </span>
npm install -g wscat

<span class="c"># Connect to websocket</span>
wscat -c wss://bitmax.io/0/api/pro/v1/stream -x <span class="s1">'{"op":"sub", "ch": "depth:BTMX/USDT"}'</span>
</code></pre>
<blockquote>
<p>You can also setup authorized session</p>
</blockquote>
<pre class="highlight shell"><code>@ToDo
</code></pre>
<p>You can <strong>subscribe/unsubscribe</strong> to one or multiple data channels.</p>

<ul>
<li>If the subscription is successful, you will receive at least one ack message confirming the request is successful and you will start receiving data streams. </li>
<li>If the subscription is unsuccessful, you will receive one ack message with text explaining why the subscription failed. </li>
</ul>
<h4 id='request-body-schema'>Request Body Schema</h4>
<p>The standard messages to subscribe to / unsubscribe from data channels is an JSON object with fields:</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>op</code></td>
<td><code>String</code></td>
<td><code>sub</code> to subscribe and <code>unsub</code> to unsubscribe</td>
</tr>
<tr>
<td><code>id</code></td>
<td><code>Optional[String]</code></td>
<td>user specified UUID, if provided, the server will echo back this value in the response message</td>
</tr>
<tr>
<td><code>ch</code></td>
<td><code>String</code></td>
<td>name of the data channel with optional arguments, see below for details</td>
</tr>
</tbody></table>

<blockquote>
<p>Subscribe to <em>bbo</em> stream for symbol <code>BTC/USDT</code></p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> </span><span class="s2">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sub"</span><span class="p">,</span><span class="w"> </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abcd1234"</span><span class="p">,</span><span class="w"> </span><span class="s2">"ch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bbo:BTC/USDT"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Subscribe to <em>ref-px</em> stream for symbol <code>BTC</code></p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> </span><span class="s2">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sub"</span><span class="p">,</span><span class="w"> </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abcd1234"</span><span class="p">,</span><span class="w"> </span><span class="s2">"ch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ref-px:BTC"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Subscribe to <em>trade</em> stream for a list of symbols</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> </span><span class="s2">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sub"</span><span class="p">,</span><span class="w"> </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abcd1234"</span><span class="p">,</span><span class="w"> </span><span class="s2">"ch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"trades:BTC/USDT,ETH/USDT,BTMX/USDT"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Unsubscribes from the <em>depth</em> stream for all symbols (method 1)</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> </span><span class="s2">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unsub"</span><span class="p">,</span><span class="w"> </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abcd1234"</span><span class="p">,</span><span class="w"> </span><span class="s2">"ch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"depth:*"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Unsubscribes from the <em>depth</em> stream for all symbols (methond 2)</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> </span><span class="s2">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unsub"</span><span class="p">,</span><span class="w"> </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abcd1234"</span><span class="p">,</span><span class="w"> </span><span class="s2">"ch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"depth"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Unsubscribes from the 1 minute <em>bar</em> streams for all symbols (method 1)</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> </span><span class="s2">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unsub"</span><span class="p">,</span><span class="w"> </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abcd1234"</span><span class="p">,</span><span class="w"> </span><span class="s2">"ch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bar:1:*"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Unsubscribes from the 1 minute <em>bar</em> streams for all symbols (method 2)</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> </span><span class="s2">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unsub"</span><span class="p">,</span><span class="w"> </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abcd1234"</span><span class="p">,</span><span class="w"> </span><span class="s2">"ch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bar:1"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Unsubscribes from <em>bar</em> streams of all frequencies for <code>BTMX/USDT</code></p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> </span><span class="s2">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unsub"</span><span class="p">,</span><span class="w"> </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abcd1234"</span><span class="p">,</span><span class="w"> </span><span class="s2">"ch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bar:*:BTMX/USDT"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response for sub multiple symbols in one single message</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="s2">"m"</span><span class="p">:</span><span class="s2">"sub"</span><span class="p">,</span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"abc23g"</span><span class="p">,</span><span class="s2">"ch"</span><span class="p">:</span><span class="s2">"summary:BTC/USDT,BTMX/USDT"</span><span class="p">,</span><span class="s2">"code"</span><span class="p">:</span><span class="mi">0</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response for unsub multiple symbols in one single message</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> </span><span class="s2">"m"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unsub"</span><span class="p">,</span><span class="w"> </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abcd1234"</span><span class="p">,</span><span class="w"> </span><span class="s2">"ch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bar:*:BTMX/USDT"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre><h4 id='customize-channel-content-with-ch'>Customize Channel content with <code>ch</code></h4>
<p>You can customize the channel content by setting <code>ch</code> according to the table below:</p>

<table><thead>
<tr>
<th>Type</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>public</td>
<td><code>depth:&lt;symbol&gt;</code></td>
<td>Updates to order book levels.</td>
</tr>
<tr>
<td>public</td>
<td><code>bbo:&lt;symbol&gt;</code></td>
<td>Price and size at best bid and ask levels on the order book.</td>
</tr>
<tr>
<td>public</td>
<td><code>trades:&lt;symbol&gt;</code></td>
<td>Market trade data</td>
</tr>
<tr>
<td>public</td>
<td><code>bar:&lt;interval&gt;:&lt;symbol&gt;</code></td>
<td>Bar data containing O/C/H/L prices and volume for specific time intervals</td>
</tr>
<tr>
<td>public</td>
<td><code>ref-px:&lt;symbol&gt;</code></td>
<td>Reference prices used by margin risk Calculation.</td>
</tr>
<tr>
<td>Private</td>
<td><code>order:&lt;account&gt;</code></td>
<td>Order Update Stream: &quot;cash&quot;, &quot;margin&quot;, or actual accountId for `account.</td>
</tr>
</tbody></table>

<p><em>Symbol</em> in <em>ref-px</em> is single asset symbol(e.g. <code>BTC</code>), not trading pair symbol (e.g. <code>BTC/USDT</code>), which is different from other channels.</p>

<p>#### Unsubscribe with Wildcard Character <code>*</code></p>

<p>Using the wildcard character <code>*</code>, you can unsubscribe from multiple channels with the same channel name.</p>
<h4 id='subscribe-to-single-or-multiple-symbols'>Subscribe to single or multiple symbols</h4>
<p>Subscribe to a single symbol (e.g. <code>BTC/USDT</code>), or multiple symbols (up to 10) separated by &quot;,&quot;, e.g. <code>&quot;BTC/USDT,ETH/USDT&quot;</code>.</p>
<h4 id='sub-unsub-response-with-multiple-symbols'>Sub/Unsub response with multiple symbols</h4>
<p>When sub or unsub from multiple symbols, we may ack symbol by symbol, or ack in one single message.</p>

<p>You can subscribe/unsubscribe one channel per subscription message. You can subscribe to multiple data channels by sending multiple 
subscription messages. However, the exchange limits the total number of data channels per client (<strong>NOT per session</strong>) according to 
the following rules:</p>

<p>@ToDo rule: maximum number of channels </p>
<h3 id='channel-level-1-order-book-data-bbo'>Channel: Level 1 Order Book Data (BBO)</h3>
<blockquote>
<p>Subscribe to <code>BTMX/USDT</code> quote stream</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> </span><span class="s2">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sub"</span><span class="p">,</span><span class="w"> </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abc123"</span><span class="p">,</span><span class="w"> </span><span class="s2">"ch"</span><span class="p">:</span><span class="s2">"bbo:BTMX/USDT"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Unsubscribe to <code>BTMX/USDT</code> quote stream</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> </span><span class="s2">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unsub"</span><span class="p">,</span><span class="w"> </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abc123"</span><span class="p">,</span><span class="w"> </span><span class="s2">"ch"</span><span class="p">:</span><span class="s2">"bbo:BTMX/USDT"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>BBO Message </p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"m"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bbo"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1573068442532</span><span class="p">,</span><span class="w">
    </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC/USDT"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"bid"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"9309.11"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"0.0197172"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"ask"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"9309.12"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"0.8851266"</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>You can subscribe to updates of best bid/offer data stream only. Once subscribed, you will receive BBO message whenever 
the price and/or size changes at the top of the order book. </p>

<p>Each BBO message contains price and size data for exactly one bid level and one ask level. </p>
<h3 id='channel-level-2-order-book-updates'>Channel: Level 2 Order Book Updates</h3>
<blockquote>
<p>Subscribe to <code>BTMX/USDT</code> depth updates stream</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> </span><span class="s2">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sub"</span><span class="p">,</span><span class="w"> </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abc123"</span><span class="p">,</span><span class="w"> </span><span class="s2">"ch"</span><span class="p">:</span><span class="s2">"depth:BTMX/USDT"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Unsubscribe to <code>BTMX/USDT</code> depth updates stream</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> </span><span class="s2">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unsub"</span><span class="p">,</span><span class="w"> </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abc123"</span><span class="p">,</span><span class="w"> </span><span class="s2">"ch"</span><span class="p">:</span><span class="s2">"depth:BTMX/USDT"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>The Depth Message </p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"m"</span><span class="p">:</span><span class="w"> </span><span class="s2">"depth"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTMX/USDT"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1573069021376</span><span class="p">,</span><span class="w">
        </span><span class="s2">"seqnum"</span><span class="p">:</span><span class="w"> </span><span class="mi">2097965</span><span class="p">,</span><span class="w">
        </span><span class="s2">"asks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">[</span><span class="w">
                </span><span class="s2">"0.06844"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"10760"</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"bids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">[</span><span class="w">
                </span><span class="s2">"0.06777"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"562.4"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="p">[</span><span class="w">
                </span><span class="s2">"0.05"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"221760.6"</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>If you want to keep track of the most recent order book snapshot in its entirety, the most efficient way is to subscribe to the <code>depth</code> channel. </p>

<p>Each <code>depth</code> message contains a <code>bids</code> list and an <code>asks</code> list in its <code>data</code> field. Each list contains a series of <code>[price, size]</code> pairs that 
you can use to update the order book snapshot. In the message, <code>price</code> is always positive and <code>size</code> is always non-negative. </p>

<ul>
<li>if <code>size</code> is positive and the <code>price</code> doesn&#39;t exist in the current order book, you should <strong>add</strong> a new level <code>[price, size]</code>. </li>
<li>if <code>size</code> is positive and the <code>price</code> exists in the current order book, you should <strong>update</strong> the existing level to <code>[price, size]</code>. </li>
<li>if <code>size</code> is zero, you should <strong>delete</strong> the level at <code>price</code>. </li>
</ul>

<p>See <a href="#orderbook-snapshot">Orderbook Snapshot</a> for code examples.</p>
<h3 id='channel-market-trades'>Channel: Market Trades</h3>
<blockquote>
<p>Subscribe to <code>BTMX/USDT</code> market trades stream</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> </span><span class="s2">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sub"</span><span class="p">,</span><span class="w"> </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abc123"</span><span class="p">,</span><span class="w"> </span><span class="s2">"ch"</span><span class="p">:</span><span class="s2">"trades:BTMX/USDT"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Unsubscribe to <code>BTMX/USDT</code> market trades stream</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> </span><span class="s2">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unsub"</span><span class="p">,</span><span class="w"> </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abc123"</span><span class="p">,</span><span class="w"> </span><span class="s2">"ch"</span><span class="p">:</span><span class="s2">"trades:BTMX/USDT"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Trade Message </p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"m"</span><span class="p">:</span><span class="w"> </span><span class="s2">"trades"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTMX/USDT"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"p"</span><span class="p">:</span><span class="w">      </span><span class="s2">"0.068600"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"q"</span><span class="p">:</span><span class="w">      </span><span class="s2">"100.000"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ts"</span><span class="p">:</span><span class="w">      </span><span class="mi">1573069903254</span><span class="p">,</span><span class="w">
            </span><span class="s2">"bm"</span><span class="p">:</span><span class="w">      </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"seqnum"</span><span class="p">:</span><span class="w">  </span><span class="mi">144115188077966308</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>The <code>data</code> field is a list containing one or more trade objects. The server may combine consecutive trades with the same price and <code>bm</code> 
value into one aggregated item. Each trade object contains the following fields:</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>seqnum</code></td>
<td><code>Long</code></td>
<td>the sequence number of the trade record. <code>seqnum</code> is always increasing for each symbol, but may not be consecutive</td>
</tr>
<tr>
<td><code>p</code></td>
<td><code>String</code></td>
<td>the executed price expressed as a string</td>
</tr>
<tr>
<td><code>q</code></td>
<td><code>String</code></td>
<td>the aggregated traded amount expressed as string</td>
</tr>
<tr>
<td><code>ts</code></td>
<td><code>Long</code></td>
<td>the UTC timestamp in milliseconds of the first trade</td>
</tr>
<tr>
<td><code>bm</code></td>
<td><code>Boolean</code></td>
<td>if true, the buyer of the trade is the maker.</td>
</tr>
</tbody></table>
<h3 id='channel-bar-data'>Channel: Bar Data</h3>
<blockquote>
<p>Subscribe to <code>BTMX/USDT</code> 1 minute bar stream</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> </span><span class="s2">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sub"</span><span class="p">,</span><span class="w"> </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abc123"</span><span class="p">,</span><span class="w"> </span><span class="s2">"ch"</span><span class="p">:</span><span class="s2">"bar:1:BTMX/USDT"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Unsubscribe to <code>BTMX/USDT</code> 1 minute bar stream</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> </span><span class="s2">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unsub"</span><span class="p">,</span><span class="w"> </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abc123"</span><span class="p">,</span><span class="w"> </span><span class="s2">"ch"</span><span class="p">:</span><span class="s2">"bar:1:BTMX/USDT"</span><span class="w"> </span><span class="p">}</span><span class="w">

</span><span class="err">//</span><span class="w">  </span><span class="err">Alternatively</span><span class="p">,</span><span class="w"> </span><span class="err">you</span><span class="w"> </span><span class="err">can</span><span class="w"> </span><span class="err">unsubscribe</span><span class="w"> </span><span class="err">all</span><span class="w"> </span><span class="err">bar</span><span class="w"> </span><span class="err">streams</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">BTMX/USDT</span><span class="w">
</span><span class="p">{</span><span class="w"> </span><span class="s2">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unsub"</span><span class="p">,</span><span class="w"> </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abc123"</span><span class="p">,</span><span class="w"> </span><span class="s2">"ch"</span><span class="p">:</span><span class="s2">"bar:*:BTMX/USDT"</span><span class="w"> </span><span class="p">}</span><span class="w">

</span><span class="err">//</span><span class="w"> </span><span class="err">Or</span><span class="w"> </span><span class="err">unsubscribe</span><span class="w"> </span><span class="err">all</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="err">minute</span><span class="w"> </span><span class="err">bar</span><span class="w"> </span><span class="err">stream</span><span class="w">
</span><span class="p">{</span><span class="w"> </span><span class="s2">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unsub"</span><span class="p">,</span><span class="w"> </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abc123"</span><span class="p">,</span><span class="w"> </span><span class="s2">"ch"</span><span class="p">:</span><span class="s2">"bar:1"</span><span class="w"> </span><span class="p">}</span><span class="w">

</span><span class="err">//</span><span class="w"> </span><span class="err">Or</span><span class="w"> </span><span class="err">unsubscribe</span><span class="w"> </span><span class="err">all</span><span class="w"> </span><span class="err">bar</span><span class="w"> </span><span class="err">stream</span><span class="w">
</span><span class="p">{</span><span class="w"> </span><span class="s2">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unsub"</span><span class="p">,</span><span class="w"> </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abc123"</span><span class="p">,</span><span class="w"> </span><span class="s2">"ch"</span><span class="p">:</span><span class="s2">"bar"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Bar Data Message </p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"m"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bar"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"s"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTMX/USDT"</span><span class="p">,</span><span class="w">    
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"i"</span><span class="p">:</span><span class="w">  </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1575398940000</span><span class="p">,</span><span class="w">
        </span><span class="s2">"o"</span><span class="p">:</span><span class="w">  </span><span class="s2">"0.04993"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"c"</span><span class="p">:</span><span class="w">  </span><span class="s2">"0.04970"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"h"</span><span class="p">:</span><span class="w">  </span><span class="s2">"0.04993"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"l"</span><span class="p">:</span><span class="w">  </span><span class="s2">"0.04970"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"v"</span><span class="p">:</span><span class="w">  </span><span class="s2">"8052"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>The <code>data</code> field is a list containing one or more trade objects. The server may combine consecutive trades with the same price and <code>bm</code> 
value into one aggregated item. Each trade object contains the following fields:</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>seqnum</code></td>
<td><code>Long</code></td>
<td>the sequence number of the trade record. <code>seqnum</code> is always increasing for each symbol, but may not be consecutive</td>
</tr>
<tr>
<td><code>p</code></td>
<td><code>String</code></td>
<td>the executed price expressed as a string</td>
</tr>
<tr>
<td><code>q</code></td>
<td><code>String</code></td>
<td>the aggregated traded amount expressed as string</td>
</tr>
<tr>
<td><code>ts</code></td>
<td><code>Long</code></td>
<td>the UTC timestamp in milliseconds of the first trade</td>
</tr>
<tr>
<td><code>bm</code></td>
<td><code>Boolean</code></td>
<td>if true, the buyer of the trade is the maker.</td>
</tr>
</tbody></table>
<h3 id='channel-order'>Channel: Order</h3>
<blockquote>
<p>Subscribe to <code>cash</code> account order update stream</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> </span><span class="s2">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sub"</span><span class="p">,</span><span class="w"> </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abc123"</span><span class="p">,</span><span class="w"> </span><span class="s2">"ch"</span><span class="p">:</span><span class="s2">"order:cash"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Subscribe to specific account id <em>cshQtyfq8XLAA9kcf19h8bXHbAwwoqDo</em> account for order update stream</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> </span><span class="s2">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sub"</span><span class="p">,</span><span class="w"> </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abc123"</span><span class="p">,</span><span class="w"> </span><span class="s2">"ch"</span><span class="p">:</span><span class="s2">"order:cshQtyfq8XLAA9kcf19h8bXHbAwwoqDo"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Unsubscribe from <code>cash</code> account order update stream</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> </span><span class="s2">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unsub"</span><span class="p">,</span><span class="w"> </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abc123"</span><span class="p">,</span><span class="w"> </span><span class="s2">"ch"</span><span class="p">:</span><span class="s2">"order:cash"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Order update message</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"m"</span><span class="p">:</span><span class="w"> </span><span class="s2">"order"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cshQtyfq8XLAA9kcf19h8bXHbAwwoqDo"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"ac"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CASH"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"ap"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w"> 
        </span><span class="s2">"bab"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2006.5974027"</span><span class="p">,</span><span class="w"> 
        </span><span class="s2">"btb"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2006.5974027"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cf"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w"> 
        </span><span class="s2">"cfq"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w"> 
        </span><span class="s2">"err"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
        </span><span class="s2">"fa"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"s16ef210b1a50866943712bfaf1584b"</span><span class="p">,</span><span class="w"> 
        </span><span class="s2">"ot"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Market"</span><span class="p">,</span><span class="w"> 
        </span><span class="s2">"p"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7967.62"</span><span class="p">,</span><span class="w"> 
        </span><span class="s2">"q"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0083"</span><span class="p">,</span><span class="w"> 
        </span><span class="s2">"qab"</span><span class="p">:</span><span class="w"> </span><span class="s2">"21400793.928153757"</span><span class="p">,</span><span class="w"> 
        </span><span class="s2">"qtb"</span><span class="p">:</span><span class="w"> </span><span class="s2">"21400860.125531003"</span><span class="p">,</span><span class="w"> 
        </span><span class="s2">"s"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC/USDT"</span><span class="p">,</span><span class="w"> 
        </span><span class="s2">"sd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Buy"</span><span class="p">,</span><span class="w"> 
        </span><span class="s2">"sn"</span><span class="p">:</span><span class="w"> </span><span class="mi">8159711</span><span class="p">,</span><span class="w"> 
        </span><span class="s2">"sp"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
        </span><span class="s2">"st"</span><span class="p">:</span><span class="w"> </span><span class="s2">"New"</span><span class="p">,</span><span class="w"> 
        </span><span class="s2">"t"</span><span class="p">:</span><span class="w"> </span><span class="mi">1576019215402</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Order update stream is supported on both <em>account</em> and <em>account + symbol</em> level.</p>

<p>For account level, you could specify account category <code>cash</code>, <code>margin</code>, or specific account id.</p>

<p>If you already subscribe to <em>account</em> level, you cannot subject to <em>symbol</em> level. In order to change to <em>account + symbol</em> level, unsubscribe from <em>account</em> level first, then subscribe to symbol level.</p>

<p>The <code>data</code> field is a single order udpate object.  Each order update object contains the following fields:</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>ap</code></td>
<td><code>String</code></td>
<td>average fill price</td>
</tr>
<tr>
<td><code>bab</code></td>
<td><code>String</code></td>
<td>base asset available balance</td>
</tr>
<tr>
<td><code>btb</code></td>
<td><code>String</code></td>
<td>base asset total balance</td>
</tr>
<tr>
<td><code>cf</code></td>
<td><code>String</code></td>
<td>cumulated commission</td>
</tr>
<tr>
<td><code>cfq</code></td>
<td><code>String</code></td>
<td>cumulated filled qty</td>
</tr>
<tr>
<td><code>err</code></td>
<td><code>String</code></td>
<td>error code; could be empty</td>
</tr>
<tr>
<td><code>fa</code></td>
<td><code>String</code></td>
<td>fee asset</td>
</tr>
<tr>
<td><code>orderId</code></td>
<td><code>String</code></td>
<td>order id</td>
</tr>
<tr>
<td><code>ot</code></td>
<td><code>String</code></td>
<td>order type</td>
</tr>
<tr>
<td><code>p</code></td>
<td><code>String</code></td>
<td>order price</td>
</tr>
<tr>
<td><code>q</code></td>
<td><code>String</code></td>
<td>order quantity</td>
</tr>
<tr>
<td><code>qab</code></td>
<td><code>String</code></td>
<td>quote asset available balance</td>
</tr>
<tr>
<td><code>qtb</code></td>
<td><code>String</code></td>
<td>quote asset total balance</td>
</tr>
<tr>
<td><code>s</code></td>
<td><code>String</code></td>
<td>symbol</td>
</tr>
<tr>
<td><code>sd</code></td>
<td><code>String</code></td>
<td>order side</td>
</tr>
<tr>
<td><code>sn</code></td>
<td><code>long</code></td>
<td>sequence number</td>
</tr>
<tr>
<td><code>sp</code></td>
<td><code>String</code></td>
<td>stop price; could be empty</td>
</tr>
<tr>
<td><code>st</code></td>
<td><code>String</code></td>
<td>order status</td>
</tr>
<tr>
<td><code>t</code></td>
<td><code>Long</code></td>
<td>latest execution timestamp</td>
</tr>
</tbody></table>
<h2 id='data-query-order-request'>Data Query / Order Request</h2>
<p>Besides subscript mesages, you could also send <strong>request message</strong> via websocket. You will receive exactly one message regarding each 
request message. Here are some use cases: </p>

<ul>
<li>Place/cancel orders </li>
<li>Request orderbook snapshot data to initialize/rebuild orderbook. </li>
</ul>
<h3 id='websocket-request-schema'>WebSocket Request Schema</h3>
<p>All operation or data request follow the same uniform format:</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>op</code></td>
<td><code>String</code></td>
<td>Yes</td>
<td><code>req</code></td>
<td></td>
</tr>
<tr>
<td><code>id</code></td>
<td><code>String</code></td>
<td>No</td>
<td>digits and numbers</td>
<td>if provided, the server will echo back this value in the response message</td>
</tr>
<tr>
<td><code>action</code></td>
<td><code>String</code></td>
<td>Yes</td>
<td>See below</td>
<td>name of the request action with optional arguments</td>
</tr>
<tr>
<td><code>account</code></td>
<td><code>String</code></td>
<td>NO</td>
<td><code>cash</code>, <code>margin</code></td>
<td>the account of the interest, this field is not required for public data request</td>
</tr>
<tr>
<td><code>args</code></td>
<td><code>{key:value}</code></td>
<td>No</td>
<td></td>
<td>each <code>action</code> has different args, please see each action for detail.</td>
</tr>
</tbody></table>
<h4 id='supported-action'>Supported action</h4>
<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>place-order</code></td>
<td>Place new order</td>
</tr>
<tr>
<td><code>cancel-order</code></td>
<td>Cancel exisitng open order</td>
</tr>
<tr>
<td><code>cancel-all</code></td>
<td>Cancel all open orders on account level</td>
</tr>
<tr>
<td><code>batch-place-order</code></td>
<td>Place new order in batch</td>
</tr>
<tr>
<td><code>batch-cancel-order</code></td>
<td>Cancel orders in batch</td>
</tr>
<tr>
<td><code>depth-snapshot</code></td>
<td>Get market depth for symbol up to 500 level</td>
</tr>
<tr>
<td><code>depth-snapshot-top100</code></td>
<td>Get top 100 depth</td>
</tr>
<tr>
<td><code>market-trades</code></td>
<td>Get market trades for a symbol</td>
</tr>
<tr>
<td><code>balance</code></td>
<td>Request balance</td>
</tr>
<tr>
<td><code>open-order</code></td>
<td>Query open order</td>
</tr>
<tr>
<td><code>margin-risk</code></td>
<td>Get margin risk</td>
</tr>
</tbody></table>
<h3 id='websocket-response-schema'>WebSocket Response Schema</h3>
<p>We try to provide all data in uniform format.</p>

<p><em>Ack or Data</em></p>

<p>Response follow the following schema</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>m</code></td>
<td><code>String</code></td>
<td>message topic related with request <code>action</code></td>
</tr>
<tr>
<td><code>id</code></td>
<td><code>Optional[String]</code></td>
<td>user specified UUID, if provided, the server will echo back this value in the response message</td>
</tr>
<tr>
<td><code>action</code></td>
<td><code>String</code></td>
<td>echo <code>action</code> field in request</td>
</tr>
<tr>
<td><code>data</code> or <code>info</code></td>
<td><code>Json</code></td>
<td>detailed <code>data</code> for data request, or <code>info</code> for operation result(e.g. order place/cancel)</td>
</tr>
</tbody></table>

<p><em>Error</em></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>m</code></td>
<td><code>String</code></td>
<td>&quot;error&quot;</td>
</tr>
<tr>
<td><code>id</code></td>
<td><code>String</code></td>
<td>Echo back the error</td>
</tr>
<tr>
<td><code>code</code></td>
<td>Long</td>
<td></td>
</tr>
<tr>
<td><code>reason</code></td>
<td><code>String</code></td>
<td>simple error  message</td>
</tr>
<tr>
<td><code>info</code></td>
<td><code>String</code></td>
<td>detailed error message</td>
</tr>
</tbody></table>

<blockquote>
<p>Example error response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"m"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ab123"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="mi">100005</span><span class="p">,</span><span class="w">
    </span><span class="s2">"reason"</span><span class="p">:</span><span class="s2">"INVALID_WS_REQUEST_DATA"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"info"</span><span class="p">:</span><span class="s2">"Invalid request action: trade-snapshot"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='ws-orderbook-snapshot'>WS: Orderbook Snapshot</h3>
<blockquote>
<p>Requesting the current order book snapshot</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> </span><span class="s2">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"req"</span><span class="p">,</span><span class="w"> </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abcdefg"</span><span class="p">,</span><span class="w"> </span><span class="s2">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"depth-snapshot"</span><span class="p">,</span><span class="w"> </span><span class="s2">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTMX/USDT"</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Depth snapshot message</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"m"</span><span class="p">:</span><span class="w"> </span><span class="s2">"depth-snapshot"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTMX/USDT"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abcdefg"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"seqnum"</span><span class="p">:</span><span class="w"> </span><span class="mi">3167819629</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1573142900389</span><span class="p">,</span><span class="w">
        </span><span class="s2">"asks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">[</span><span class="w">
                </span><span class="s2">"0.06758"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"585"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="p">[</span><span class="w">
                </span><span class="s2">"0.06773"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"8732"</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"bids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">[</span><span class="w">
                </span><span class="s2">"0.06733"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"667"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="p">[</span><span class="w">
                </span><span class="s2">"0.06732"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"750"</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>You can request the current order book via websocket by an <code>depth-snapshot</code> request. </p>

<p>The <code>args</code> schema:</p>

<table><thead>
<tr>
<th>Name</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>op</code></td>
<td><code>String</code></td>
<td><code>req</code></td>
</tr>
<tr>
<td><code>action</code></td>
<td><code>String</code></td>
<td><code>depth-snapshot</code></td>
</tr>
<tr>
<td><code>id</code></td>
<td><code>String</code></td>
<td>for result match purpose</td>
</tr>
<tr>
<td><code>args:symbol</code></td>
<td><code>String</code></td>
<td>Symbol, e.g. <code>BTMX/USDT</code></td>
</tr>
</tbody></table>

<p>The response schema:</p>

<table><thead>
<tr>
<th>Name</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>m</code></td>
<td><code>String</code></td>
<td><code>depth-snapshot</code></td>
</tr>
<tr>
<td><code>symbol</code></td>
<td><code>String</code></td>
<td>Symbol, e.g. <code>BTMX/USDT</code></td>
</tr>
<tr>
<td><code>id</code></td>
<td><code>String</code></td>
<td>echo back <code>id</code> in request</td>
</tr>
<tr>
<td><code>data:seqnum</code></td>
<td><code>Long</code></td>
<td></td>
</tr>
<tr>
<td><code>data:ts</code></td>
<td><code>Long</code></td>
<td>UTC Timestamp in milliseconds</td>
</tr>
<tr>
<td><code>data:asks</code></td>
<td><code>[[String, String]]</code></td>
<td>List of (price, size) pair</td>
</tr>
<tr>
<td><code>data:bids</code></td>
<td><code>[[String, String]]</code></td>
<td>List of (price, size) pair</td>
</tr>
</tbody></table>

<p>You can following the steps below to keep track of the the most recent order book:</p>

<ul>
<li>Connecting to WebSocket Stream</li>
<li>Subscribe to the depth update stream, see <a href="#level-2-order-book-updates-depth">Level 2 Order Book Updates (Depth)</a>.</li>
<li>Send a <code>depth-snapshot</code> request to the server.</li>
<li>Once you obtain the snapshot message from the server, initialize the snapshot.</li>
<li>Using consequent <code>depth</code> messages to update the order book.</li>
</ul>

<p>Please note that field <code>seqnum</code> should strictly increase by 1 for each new depth update (each <code>symbol</code> maintain its own <code>seqnum</code>). 
If you see a larger than 1 gap from previous <code>seqnum</code> (for the same <code>symbol</code>), then there might be data loss, 
you need to repeat above steps to maintain a new order book.</p>

<p>The <code>depth-snapshot</code> message is constructed in a consistent way with all <code>depth</code> message. </p>

<p>Please note that the <code>depth-snapshot</code> API has higher latency. The response time is usually between 
1000 - 2000 milliseconds. It is intended to help you initialize the orderbook, not to be used to obtain 
the timely order book data. </p>

<p>More comprehensive examples can be found at:</p>

<ul>
<li>Python: <a href="https://github.com/bitmax-exchange/bitmax-pro-api-demo/blob/master/python/websocket_orderbook_snapshot.py">websocket orderbook snapshot</a></li>
</ul>
<h3 id='ws-place-order'>WS: Place Order</h3>
<blockquote>
<p>Request to place new order</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"req"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"place-Order"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"account"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cash"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"time"</span><span class="p">:</span><span class="w">       </span><span class="mi">1573772908483</span><span class="p">,</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w">         </span><span class="s2">"11eb9a8355fc41bd9bf5b08bc0d18f6b"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w">     </span><span class="s2">"EOS/USDT"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"orderPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.27255"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"orderQty"</span><span class="p">:</span><span class="w">   </span><span class="s2">"30.557210737803853"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"orderType"</span><span class="p">:</span><span class="w">  </span><span class="s2">"limit"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"side"</span><span class="p">:</span><span class="w">       </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"postOnly"</span><span class="p">:</span><span class="w">    </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"respInst"</span><span class="p">:</span><span class="w">   </span><span class="s2">"ACK"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Successful ACK message</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"m"</span><span class="p">:</span><span class="w"> </span><span class="s2">"order"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cshQtyfq8XLAA9kcf19h8bXHbAwwoqDo"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"accountCategory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CASH"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"place-order"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ack"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"info"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC/USDT"</span><span class="p">,</span><span class="w"> 
        </span><span class="s2">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Limit"</span><span class="p">,</span><span class="w"> 
        </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1576015701441</span><span class="p">,</span><span class="w"> 
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"17e1f6809122469589ffc991523b505d"</span><span class="p">,</span><span class="w"> 
        </span><span class="s2">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"s16ef1daefbe08669437121523b505d"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Error response message</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"m"</span><span class="p">:</span><span class="w"> </span><span class="s2">"order"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cshQtyfq8XLAA9kcf19h8bXHbAwwoqDo"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"accountCategory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CASH"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"place-order"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Err"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"info"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w">      </span><span class="s2">"69c482a3f29540a0b0d83e00551bb623"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w">  </span><span class="s2">"ETH/USDT"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w">     </span><span class="mi">300011</span><span class="p">,</span><span class="w">
        </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Not Enough Account Balance"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"reason"</span><span class="p">:</span><span class="w">  </span><span class="s2">"INVALID_BALANCE"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Place order via websocket </p>

<p><strong>Request</strong></p>

<p>Make new order request follow the general websocket request rule, with proper place new order parameters as specified in rest api for <em>args</em> field.</p>

<p>see <a href="#place-new-order">placing order via RESTful API</a>.</p>

<p><strong>Response</strong></p>

<p>Respond with <em>m</em> field as <em>order</em>, and <em>action</em> field as <em>place-order</em>; <em>status</em> field to indicate if this is a successful <em>Ack</em> or failed <em>Err</em>.</p>

<p><em>ACK</em> </p>

<p>With <em>status</em> field as <em>Ack</em> to indicate this new order request pass some basic sanity check, and has been sent to matching engine. </p>

<p><em>info</em> field provide some detail: if you provide <em>id</em> in your request, it will be echoed back as <em>id</em> to help you identify; we also provide server side generated <em>orderId</em>, which is the id you should use for future track or action on the order.  </p>

<p><em>ERR</em> </p>

<p>With <em>status</em> field as <em>Err</em> to indicate there is some obvisous errors in your order. </p>

<p><em>info</em> field provide some detail: if you provide <em>id</em> in your request, it will be echoed back as <em>id</em> to help you identify; we also provide error <em>code</em>, <em>reason</em>, and <em>message</em> detail.</p>
<h3 id='ws-cancel-order'>WS: Cancel Order</h3>
<blockquote>
<p>Request to cancel existing open order</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"req"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cancel-Order"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"account"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cash"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"time"</span><span class="p">:</span><span class="w">    </span><span class="mi">1574165050128</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w">      </span><span class="s2">"2d4c3fa1e5c249e49f990ce86aebb607"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16e83845dcdsimtrader00008c645f67"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w">  </span><span class="s2">"ETH/USDT"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Successful ACK message</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"m"</span><span class="p">:</span><span class="w"> </span><span class="s2">"order"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cshQtyfq8XLAA9kcf19h8bXHbAwwoqDo"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"accountCategory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CASH"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cancel-order"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ack"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"info"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w">    </span><span class="s2">"ETH/USDT"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NULL_VAL"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w">  </span><span class="mi">1574165050147</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w">        </span><span class="s2">"7b73dcd8e8c847d5a99df5ef5ae5088b"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"orderId"</span><span class="p">:</span><span class="w">   </span><span class="s2">"16e83845dcdsimtrader00008c645f67"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Error response message</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"m"</span><span class="p">:</span><span class="w"> </span><span class="s2">"order"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cshQtyfq8XLAA9kcf19h8bXHbAwwoqDo"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"accountCategory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CASH"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cancel-order"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ack"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"info"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w">     </span><span class="mi">300006</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w">      </span><span class="s2">"x@fabs"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid Client Order Id: x@fabs"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w">  </span><span class="s2">"ETH/USDT"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"reason"</span><span class="p">:</span><span class="w">  </span><span class="s2">"INVALID_ORDER_ID"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Cancel an existing open order via websocket </p>

<p><strong>Request</strong></p>

<p>Make order cancelling request follow the general websocket request rule by setting <code>action</code> to be <code>cancel-orde</code>, with proper cancel order parameters as specified in rest api for <em>args</em> field.</p>

<p><strong>Response</strong></p>

<p><em>ACK</em> </p>

<p>With <em>status</em> field as <em>Ack</em> to indicate this cancel order request pass some basic sanity check, and has been sent to matching engine. </p>

<p><em>info</em> field provide some detail: if you provide <em>id</em> in your request, it will be echoed back as <em>id</em> to help you idintify; we also echo back target <em>orderId</em> to be cancelled.  </p>

<p><em>Err</em></p>

<p>With <em>status</em> field as <em>Err</em> to indicate there is some obvisous errors in your cancel order request. </p>

<p><em>info</em> field provide some detail: if you provide <em>id</em> in your request, it will be echoed back as <em>id</em> to help you identify; we also provide error <em>code</em>, <em>reason</em>, and <em>message</em> detail.</p>
<h3 id='ws-cancel-all-orders'>WS: Cancel All Orders</h3>
<blockquote>
<p>Request to cancel all existing open orders </p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"req"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cancel-All"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Request to cancel existing open order related to symbol &quot;BTC/USDT&quot;</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"req"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cancel-All"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"account"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cash"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC/USDT"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Successful ACK message</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"m"</span><span class="p">:</span><span class="w"> </span><span class="s2">"order"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cshQtyfq8XLAA9kcf19h8bXHbAwwoqDo"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ac"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CASH"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cancel-all"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ack"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"info"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w">    </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NULL_VAL"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w">  </span><span class="mi">1574165159732</span><span class="p">,</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w">        </span><span class="s2">"69c482a3f29540a0b0d83e00551bb623"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"orderId"</span><span class="p">:</span><span class="w">   </span><span class="s2">""</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Cancel all open orders on account level via websocket with optional symbol.</p>

<p><strong>Request</strong></p>

<p>Make general websocket request with <code>action</code> field as <code>cancel-All</code> and set proper <code>account</code> value(<code>cash</code>, or <code>margin</code>), and provide <em>time</em> value in <em>args</em>.</p>

<p><strong>Response</strong></p>

<p>With <em>status</em> field as <em>Ack</em> to indicate this cancel all order request has been received by server and sent to matching engine. </p>

<p><em>info</em> field provide some detail: if you provide <em>id</em> in your request, it will be echoed back as <em>id</em> to help you match ack with request.</p>
<h3 id='ws-query-open-orders-on-symbol'>WS: Query Open Orders on Symbol</h3>
<blockquote>
<p>Requesting open orders on symbol BTC/USDT</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"req"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"open-order"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abdad113"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"account"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cash"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"symbols"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC/USDT"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Open orders response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"m"</span><span class="p">:</span><span class="w"> </span><span class="s2">"open-order"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abdad113"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cshQtyfq8XLAA9kcf19h8bXHbAwwoqDo"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"ac"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CASH"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"sn"</span><span class="p">:</span><span class="w"> </span><span class="mi">103</span><span class="p">,</span><span class="w"> 
            </span><span class="s2">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a16edce82c6e0866943712UKrJP1HCA"</span><span class="p">,</span><span class="w"> 
            </span><span class="s2">"s"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC/USDT"</span><span class="p">,</span><span class="w"> 
            </span><span class="s2">"ot"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Limit"</span><span class="p">,</span><span class="w"> 
            </span><span class="s2">"t"</span><span class="p">:</span><span class="w"> </span><span class="mi">1575664233699</span><span class="p">,</span><span class="w"> 
            </span><span class="s2">"p"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9000"</span><span class="p">,</span><span class="w"> 
            </span><span class="s2">"q"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.01"</span><span class="p">,</span><span class="w"> 
            </span><span class="s2">"sd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Buy"</span><span class="p">,</span><span class="w"> 
            </span><span class="s2">"st"</span><span class="p">:</span><span class="w"> </span><span class="s2">"New"</span><span class="p">,</span><span class="w"> 
            </span><span class="s2">"ap"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w"> 
            </span><span class="s2">"cfq"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w"> 
            </span><span class="s2">"sp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w"> 
            </span><span class="s2">"err"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NULL_VAL"</span><span class="p">,</span><span class="w"> 
            </span><span class="s2">"btb"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w"> 
            </span><span class="s2">"bab"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w"> 
            </span><span class="s2">"qtb"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w"> 
            </span><span class="s2">"qab"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w"> 
            </span><span class="s2">"cf"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w"> 
            </span><span class="s2">"fa"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">},</span><span class="w"> 
            </span><span class="err">...</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>You can request the open order via websocket by an <code>open-order</code> request. </p>

<p>The request schema:</p>

<table><thead>
<tr>
<th>Name</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>op</code></td>
<td><code>String</code></td>
<td><code>req</code></td>
</tr>
<tr>
<td><code>action</code></td>
<td><code>String</code></td>
<td><code>open-order</code></td>
</tr>
<tr>
<td><code>id</code></td>
<td><code>String</code></td>
<td>for result match purpose</td>
</tr>
<tr>
<td><code>account</code></td>
<td><code>String</code></td>
<td><code>cash</code>, <code>margin</code></td>
</tr>
<tr>
<td><code>args:symbols</code></td>
<td><code>String</code></td>
<td></td>
</tr>
</tbody></table>

<p>The response schema:</p>

<table><thead>
<tr>
<th>Name</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>m</code></td>
<td><code>String</code></td>
<td><code>open-order</code></td>
</tr>
<tr>
<td><code>accountId</code></td>
<td><code>String</code></td>
<td>account</td>
</tr>
<tr>
<td><code>ac</code></td>
<td><code>String</code></td>
<td><code>cash</code>, <code>margin</code></td>
</tr>
<tr>
<td><code>id</code></td>
<td><code>String</code></td>
<td>echo id in request</td>
</tr>
<tr>
<td><code>data</code></td>
<td><code>Order Json Array</code></td>
<td>A list of open order json objects</td>
</tr>
</tbody></table>
<h3 id='ws-recent-market-trades'>WS: Recent Market Trades</h3>
<blockquote>
<p>Requesting the most recent 12 trades for symbol BTMX/USDT</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> </span><span class="s2">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"req"</span><span class="p">,</span><span class="w"> </span><span class="s2">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market-trades"</span><span class="p">,</span><span class="w"> </span><span class="s2">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTMX/USDT"</span><span class="p">,</span><span class="w"> </span><span class="s2">"level"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">}</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Trades snapshot message</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"m"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market-trades"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abcd1334"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTMX/USDT"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"p"</span><span class="p">:</span><span class="w">      </span><span class="s2">"0.068600"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"q"</span><span class="p">:</span><span class="w">      </span><span class="s2">"100.000"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ts"</span><span class="p">:</span><span class="w">      </span><span class="mi">1573069903254</span><span class="p">,</span><span class="w">
            </span><span class="s2">"bm"</span><span class="p">:</span><span class="w">      </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"seqnum"</span><span class="p">:</span><span class="w">  </span><span class="mi">144115188077966308</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>You can request the current order book via websocket by an <code>market-trades</code> request. </p>

<p>The request schema:</p>

<table><thead>
<tr>
<th>Name</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>op</code></td>
<td><code>String</code></td>
<td><code>req</code></td>
</tr>
<tr>
<td><code>action</code></td>
<td><code>String</code></td>
<td><code>market-trades</code></td>
</tr>
<tr>
<td><code>args</code></td>
<td><code>{key:value}</code></td>
<td>see <code>args</code> below for detail</td>
</tr>
</tbody></table>

<p>The <code>args</code> schema:</p>

<p><code>symbol</code> | <code>String</code>            | Symbol, e.g. <code>BTMX/USDT</code><br>
 <code>level</code>  | Int                 | Number of trades to request</p>

<p>The response schema:</p>

<table><thead>
<tr>
<th>Name</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>m</code></td>
<td><code>String</code></td>
<td><code>market-trades</code></td>
</tr>
<tr>
<td><code>symbol</code></td>
<td><code>String</code></td>
<td>Symbol, e.g. <code>BTMX/USDT</code></td>
</tr>
<tr>
<td><code>data</code></td>
<td><code>Json Array</code></td>
<td>A list of trade json objects</td>
</tr>
</tbody></table>

<p>The <code>data</code> field is a list containing one or more trade objects. The server may combine consecutive trades with the same price and <code>bm</code> 
value into one aggregated item. Each trade object contains the following fields:</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>seqnum</code></td>
<td><code>Long</code></td>
<td>the sequence number of the trade record. <code>seqnum</code> is always increasing for each symbol, but may not be consecutive</td>
</tr>
<tr>
<td><code>p</code></td>
<td><code>String</code></td>
<td>the executed price expressed as a string</td>
</tr>
<tr>
<td><code>q</code></td>
<td><code>String</code></td>
<td>the aggregated traded amount expressed as string</td>
</tr>
<tr>
<td><code>ts</code></td>
<td><code>Long</code></td>
<td>the UTC timestamp in milliseconds of the first trade</td>
</tr>
<tr>
<td><code>bm</code></td>
<td><code>Boolean</code></td>
<td>if true, the buyer of the trade is the maker.</td>
</tr>
</tbody></table>
<h1 id='error-message'>Error Message</h1>
<p>We structure our error message in three levels:
    * Error Group provide a broad error category (Error group id = error code / 10000)
    * Error Reason provide some intuitive information on the error
    * Error Message explains error detail.</p>

<p>In most situation, we provide simple error in this way: <em>{&quot;code&quot;: XYABCDE, &quot;reason&quot;: XXXXXXXX}</em>; for complicated scenatio (such as order place/cancel request, websocket request, and so on), we provide rich format error: <em>{&quot;code&quot;: XYZBCDE, &quot;reason&quot;:XXXXXXXX, &quot;message&quot;:YYYYYYYY}</em>.</p>

<p>Rich format error is derived from simple error, so you could get error message with same error <em>code</em> and <em>reason</em>, but different <em>message</em> content.</p>
<h2 id='error-base-group'>Error Base Group</h2>
<p>We summary the major error group below.</p>

<table><thead>
<tr>
<th>group name</th>
<th>group code</th>
<th>derived code</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>GeneralError</td>
<td>10</td>
<td>10XXXX</td>
<td>Errors applied to general scenario</td>
</tr>
<tr>
<td>FormatError</td>
<td>15</td>
<td>15XXXX</td>
<td>Format related error</td>
</tr>
<tr>
<td>AuthError</td>
<td>20</td>
<td>20XXXX</td>
<td>Auth related error</td>
</tr>
<tr>
<td>OrderError</td>
<td>30</td>
<td>30XXXX</td>
<td>Order action and information related error</td>
</tr>
<tr>
<td>MarginError</td>
<td>31</td>
<td>31XXXX</td>
<td>Margin account and trading related error</td>
</tr>
<tr>
<td>SystemError</td>
<td>50</td>
<td>50XXXX</td>
<td>System related error</td>
</tr>
<tr>
<td>BehaviorError</td>
<td>90</td>
<td>90XXXX</td>
<td>Behavior error</td>
</tr>
</tbody></table>
<h2 id='10xxxx-general-error'>10XXXX - General Error</h2>
<table><thead>
<tr>
<th>code</th>
<th>reason</th>
<th>descripion</th>
</tr>
</thead><tbody>
<tr>
<td>100001</td>
<td>INVALID_HTTP_INPUT</td>
<td>Http request is invalid</td>
</tr>
<tr>
<td>100002</td>
<td>DATA_NOT_AVAILABLE</td>
<td>Some required data is missing</td>
</tr>
<tr>
<td>100003</td>
<td>KEY_CONFLICT</td>
<td>The same key exists already</td>
</tr>
<tr>
<td>100004</td>
<td>INVALID_REQUEST_DATA</td>
<td>The HTTP request contains invalid field or argument</td>
</tr>
<tr>
<td>100005</td>
<td>INVALID_WS_REQUEST_DATA</td>
<td>Websocket request contains invalid field or argument</td>
</tr>
<tr>
<td>100006</td>
<td>INVALID_ARGUMENT</td>
<td>The arugment is invalid</td>
</tr>
<tr>
<td>100007</td>
<td>ENCRYPTION_ERROR</td>
<td>Something wrong with data encryption</td>
</tr>
<tr>
<td>100008</td>
<td>SYMBOL_ERROR</td>
<td>Symbol does not exist or not valid for the request</td>
</tr>
<tr>
<td>100009</td>
<td>AUTHORIZATION_NEEDED</td>
<td>Authorization is require for the API access or request</td>
</tr>
<tr>
<td>100010</td>
<td>INVALID_OPERATION</td>
<td>The action is invalid or not allowed for the account</td>
</tr>
<tr>
<td>100011</td>
<td>INVALID_TIMESTAMP</td>
<td>Not a valid timestamp</td>
</tr>
<tr>
<td>100012</td>
<td>INVALID_STR_FORMAT</td>
<td>String format does not</td>
</tr>
<tr>
<td>100013</td>
<td>INVALID_NUM_FORMAT</td>
<td>Invalid number input</td>
</tr>
<tr>
<td>100101</td>
<td>UNKNOWN_ERROR</td>
<td>Some unknown error</td>
</tr>
</tbody></table>
<h2 id='15xxxx-format-error'>15XXXX - Format Error</h2>
<table><thead>
<tr>
<th>code</th>
<th>reason</th>
<th>descripion</th>
</tr>
</thead><tbody>
<tr>
<td>150001</td>
<td>INVALID_JSON_FORMAT</td>
<td>Require a valid json object</td>
</tr>
</tbody></table>
<h2 id='20xxxx-auth-error'>20XXXX - Auth Error</h2>
<p>Auth related errors.</p>

<table><thead>
<tr>
<th>code</th>
<th>reason</th>
<th>descripion</th>
</tr>
</thead><tbody>
<tr>
<td>200001</td>
<td>AUTHENTICATION_FAILED</td>
<td>Authorization failed</td>
</tr>
<tr>
<td>200002</td>
<td>TOO_MANY_ATTEMPTS</td>
<td>Tried and failed too many times</td>
</tr>
<tr>
<td>200003</td>
<td>ACCOUNT_NOT_FOUND</td>
<td>Account not exist</td>
</tr>
<tr>
<td>200004</td>
<td>ACCOUNT_NOT_SETUP</td>
<td>Account not setup properly</td>
</tr>
<tr>
<td>200005</td>
<td>ACCOUNT_ALREADY_EXIST</td>
<td>Account already exist</td>
</tr>
<tr>
<td>200006</td>
<td>ACCOUNT_ERROR</td>
<td>Some error related with error</td>
</tr>
<tr>
<td>200007</td>
<td>CODE_NOT_FOUND</td>
<td></td>
</tr>
<tr>
<td>200008</td>
<td>CODE_EXPIRED</td>
<td>Code expired</td>
</tr>
<tr>
<td>200009</td>
<td>CODE_MISMATCH</td>
<td>Code does not match</td>
</tr>
<tr>
<td>200010</td>
<td>PASSWORD_ERROR</td>
<td>Wrong assword</td>
</tr>
<tr>
<td>200011</td>
<td>CODE_GEN_FAILED</td>
<td>Do not generate required code promptly</td>
</tr>
<tr>
<td>200012</td>
<td>FAKE_COKE_VERIFY</td>
<td></td>
</tr>
<tr>
<td>200013</td>
<td>SECURITY_ALERT</td>
<td>Provide security alert message</td>
</tr>
<tr>
<td>200014</td>
<td>RESTRICTED_ACCOUNT</td>
<td>Account is restricted for certain activity, such as trading, or withdraw.</td>
</tr>
<tr>
<td>200015</td>
<td>PERMISSION_DENIED</td>
<td>No enough permission for the operation</td>
</tr>
</tbody></table>
<h2 id='30xxxx-order-error'>30XXXX - Order Error</h2>
<p>Order place/cancel/query related errors. We usually provide rich format errors based on these simple ones.</p>

<table><thead>
<tr>
<th>code</th>
<th>reason</th>
<th>descripion</th>
</tr>
</thead><tbody>
<tr>
<td>300001</td>
<td>INVALID_PRICE</td>
<td>Order price is invalid</td>
</tr>
<tr>
<td>300002</td>
<td>INVALID_QTY</td>
<td>Order size is invalid</td>
</tr>
<tr>
<td>300003</td>
<td>INVALID_SIDE</td>
<td>Order side is invalid</td>
</tr>
<tr>
<td>300004</td>
<td>INVALID_NOTIONAL</td>
<td>Notional is too small or too large</td>
</tr>
<tr>
<td>300005</td>
<td>INVALID_TYPE</td>
<td>Order typs  is invalid</td>
</tr>
<tr>
<td>300006</td>
<td>INVALID_ORDER_ID</td>
<td>Order id is invalid</td>
</tr>
<tr>
<td>300007</td>
<td>INVALID_TIME_IN_FORCE</td>
<td>Time In Force in order request is invalid</td>
</tr>
<tr>
<td>300008</td>
<td>INVALID_ORDER_PARAMETER</td>
<td>Some order parameter is invalid</td>
</tr>
<tr>
<td>300009</td>
<td>TRADING_VIOLATION</td>
<td>Trading violation on account or asset</td>
</tr>
<tr>
<td>300011</td>
<td>INVALID_BALANCE</td>
<td>No enough account or asset balance for the trading</td>
</tr>
<tr>
<td>300012</td>
<td>INVALID_PRODUCT</td>
<td>Not a valid product supported by exchange</td>
</tr>
<tr>
<td>300013</td>
<td>INVALID_BATCH_ORDER</td>
<td>Some or all orders are invalid in batch order request</td>
</tr>
<tr>
<td>300020</td>
<td>TRADING_RESTRICTED</td>
<td>There is some trading restriction on account or asset</td>
</tr>
<tr>
<td>300021</td>
<td>TRADING_DISABLED</td>
<td>Trading is disabled on account or asset</td>
</tr>
<tr>
<td>300031</td>
<td>NO_MARKET_PRICE</td>
<td>No market price for market type order trading</td>
</tr>
</tbody></table>
<h2 id='31xxxx-margin-error'>31XXXX - Margin Error</h2>
<p>Margin trading related errors.</p>

<table><thead>
<tr>
<th>code</th>
<th>reason</th>
<th>descripion</th>
</tr>
</thead><tbody>
<tr>
<td>310001</td>
<td>INVALID_MARGIN_BALANCE</td>
<td>No enough margin balance</td>
</tr>
<tr>
<td>310002</td>
<td>INVALID_MARGIN_ACCOUNT</td>
<td>Not a valid account for margin trading</td>
</tr>
<tr>
<td>310003</td>
<td>MARGIN_TOO_RISKY</td>
<td>Leverage is too high</td>
</tr>
<tr>
<td>310004</td>
<td>INVALID_MARGIN_ASSET</td>
<td>This asset does not support margin trading</td>
</tr>
<tr>
<td>310005</td>
<td>INVALID_REFERENCE_PRICE</td>
<td>There is no valid reference price</td>
</tr>
</tbody></table>
<h2 id='50xxxx-system-error'>50XXXX - System Error</h2>
<table><thead>
<tr>
<th>code</th>
<th>reason</th>
<th>descripion</th>
</tr>
</thead><tbody>
<tr>
<td>510001</td>
<td>SERVER_ERROR</td>
<td>Something wrong with server.</td>
</tr>
</tbody></table>
<h2 id='90xxxx-behavior-error'>90XXXX - Behavior Error</h2>
<table><thead>
<tr>
<th>code</th>
<th>reason</th>
<th>descripion</th>
</tr>
</thead><tbody>
<tr>
<td>900001</td>
<td>HUMAN_CHALLENGE</td>
<td>Human change do not pass</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
                <a href="#" data-language-name="python">python</a>
                <a href="#" data-language-name="java">java</a>
          </div>
      </div>
    </div>
  </body>
</html>
